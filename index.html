<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡ | Ù…ØµØ·ÙÙ‰ Ù‡Ø§Ù†ÙŠ</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800;900&display=swap"
        rel="stylesheet">
    <style>
        * {
            font-family: 'Cairo', sans-serif;
            scroll-behavior: smooth;
        }

        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #312e81 100%);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #1e293b;
        }

        ::-webkit-scrollbar-thumb {
            background: #6366f1;
            border-radius: 4px;
        }

        /* Animations */
        @keyframes float {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        .animate-float {
            animation: float 3s ease-in-out infinite;
        }

        @keyframes pulse-glow {

            0%,
            100% {
                box-shadow: 0 0 15px rgba(99, 102, 241, 0.3);
            }

            50% {
                box-shadow: 0 0 30px rgba(99, 102, 241, 0.6);
            }
        }

        .animate-pulse-glow {
            animation: pulse-glow 3s infinite;
        }

        .glass-card {
            background: rgba(30, 41, 59, 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
        }

        .glass-card:hover {
            transform: translateY(-5px);
            background: rgba(30, 41, 59, 0.8);
            border-color: rgba(99, 102, 241, 0.3);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        .hero-avatar-ring {
            background: linear-gradient(45deg, #6366f1, #ec4899, #f59e0b);
            padding: 4px;
            border-radius: 50%;
        }

        .btn-primary {
            background: linear-gradient(90deg, #6366f1, #8b5cf6);
            position: relative;
            overflow: hidden;
            transition: all 0.3s;
        }

        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.5);
        }

        .badge-new {
            background: linear-gradient(90deg, #ef4444, #f97316);
            animation: pulse-glow 2s infinite;
        }

        .locked-overlay {
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(4px);
        }

        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            pointer-events: none;
        }

        /* Non-bouncing message animation */
        @keyframes msg-fade {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-float-message {
            animation: msg-fade 0.3s ease-out forwards;
        }

        /* Chat Specifics */
        .chat-container {
            height: 400px;
            overflow-y: auto;
        }

        .message-bubble {
            max-width: 85%;
            word-wrap: break-word;
        }

        .typing-dot {
            width: 6px;
            height: 6px;
            background: #94a3b8;
            border-radius: 50%;
            animation: bounce 1.4s infinite ease-in-out both;
        }

        .typing-dot:nth-child(1) {
            animation-delay: -0.32s;
        }

        .typing-dot:nth-child(2) {
            animation-delay: -0.16s;
        }

        @keyframes bounce {

            0%,
            80%,
            100% {
                transform: scale(0);
            }

            40% {
                transform: scale(1);
            }
        }

        .cursor-blink {
            display: inline-block;
            width: 3px;
            height: 1em;
            background: #fff;
            margin-right: 4px;
            animation: blink 1s infinite;
            vertical-align: middle;
        }

        @keyframes blink {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0;
            }
        }

        /* Lesson Modal */
        .lesson-modal {
            display: none;
            position: fixed;
            inset: 0;
            z-index: 5000;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .lesson-modal.active {
            display: flex;
            opacity: 1;
        }

        .modal-animate {
            animation: modalUp 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes modalUp {
            from {
                transform: translateY(50px) scale(0.95);
            }

            to {
                transform: translateY(0) scale(1);
            }
        }
    </style>
</head>

<body class="selection:bg-indigo-500 selection:text-white">

    <!-- Decorative particles -->
    <div id="particles" class="fixed inset-0 pointer-events-none z-0 overflow-hidden"></div>

    <!-- Lesson Modal -->
    <div class="lesson-modal items-center justify-center p-4" id="lessonModal">
        <div
            class="modal-content w-full max-w-7xl h-[90vh] bg-slate-900 border border-slate-700 rounded-2xl flex flex-col md:flex-row overflow-hidden shadow-2xl modal-animate relative">
            <button
                class="absolute top-4 left-4 z-50 w-10 h-10 bg-slate-800 text-white rounded-full flex items-center justify-center hover:bg-red-500 transition shadow-lg"
                onclick="closeLesson()">âœ•</button>

            <!-- Left: Content (Visible by default on mobile) -->
            <div id="modalContentPanel"
                class="w-full md:w-2/3 p-8 overflow-y-auto border-l border-slate-800 bg-slate-900/50 relative">
                <h2 class="text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-indigo-500 mb-6"
                    id="modalTitle">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¯Ø±Ø³</h2>
                <div class="prose prose-invert max-w-none text-slate-300 leading-loose" id="modalBody">
                    <!-- Content injected here -->
                </div>
                <!-- Mobile Floating Button -->
                <button
                    class="md:hidden fixed bottom-6 left-6 bg-indigo-600 text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-2 animate-bounce z-40"
                    onclick="showMobileChat()">
                    <span>ğŸ’¬</span> Ø§Ø³Ø£Ù„ Ù†ÙŠÙˆØªÙ†
                </button>
            </div>

            <!-- Right: AI Chat (Hidden on mobile by default) -->
            <div id="modalChatPanel"
                class="w-full md:w-1/3 flex-col bg-slate-950/50 border-r border-slate-800/30 hidden md:flex h-full">
                <div class="p-4 border-b border-slate-800 bg-slate-900/80 flex items-center justify-between">
                    <div class="flex items-center gap-2">
                        <span class="text-xl">ğŸ</span>
                        <span class="font-bold text-slate-200">Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ</span>
                    </div>
                    <!-- Back Button for Mobile -->
                    <button class="md:hidden text-sm text-slate-400 hover:text-white" onclick="showMobileContent()">
                        â¬…ï¸ Ø´Ø±Ø­ Ø§Ù„Ø¯Ø±Ø³
                    </button>
                </div>
                <div class="flex-1 p-4 overflow-y-auto space-y-4" id="modalChatBox"></div>
                <div class="p-4 border-t border-slate-800 bg-slate-900/80">
                    <div class="flex gap-2">
                        <input type="text" id="modalChatInput"
                            class="flex-1 bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-indigo-500 transition text-white"
                            placeholder="Ø§Ø³Ø£Ù„ Ù†ÙŠÙˆØªÙ†...">
                        <button id="modalSendBtn"
                            class="bg-indigo-600 hover:bg-indigo-500 text-white p-3 rounded-xl transition shadow-lg shadow-indigo-500/20">ğŸ</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header
        class="fixed top-0 w-full z-50 bg-slate-900/80 backdrop-blur-md border-b border-white/5 transition-all duration-300"
        id="mainHeader">
        <div class="max-w-7xl mx-auto px-4 md:px-8 h-20 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div
                    class="w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center text-xl shadow-lg animate-float">
                    âš›ï¸
                </div>
                <div>
                    <h1 class="text-xl md:text-2xl font-black tracking-tight flex items-center gap-2">
                        Ù…Ù†ØµØ© Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡
                        <span
                            class="text-[10px] bg-indigo-500/20 text-indigo-300 px-2 py-0.5 rounded-full border border-indigo-500/30">BETA</span>
                    </h1>
                    <p class="text-xs text-slate-400 font-medium">Ù…Ø¹ Ù…/ Ù…ØµØ·ÙÙ‰ Ù‡Ø§Ù†ÙŠ</p>
                </div>
            </div>
            <div class="hidden md:flex items-center gap-2 bg-slate-800/50 px-4 py-2 rounded-full border border-white/5">
                <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                <span class="text-sm text-slate-300">Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</span>
            </div>
            <button class="md:hidden p-2 text-slate-300 hover:text-white">â˜°</button>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="relative pt-32 pb-20 px-4 overflow-hidden">
        <div
            class="absolute top-20 left-1/2 -translate-x-1/2 w-[600px] h-[600px] bg-indigo-600/20 rounded-full blur-3xl -z-10 animate-pulse-glow">
        </div>

        <div class="max-w-5xl mx-auto text-center relative z-10">
            <div class="relative inline-block mb-8 group">
                <div class="hero-avatar-ring p-1">
                    <div
                        class="w-24 h-24 md:w-32 md:h-32 bg-slate-800 rounded-full overflow-hidden border-4 border-slate-900 shadow-2xl relative">
                        <div
                            class="w-full h-full flex items-center justify-center text-6xl bg-gradient-to-b from-slate-700 to-slate-900">
                            ğŸ‘¨â€ğŸ«</div>
                    </div>
                </div>
                <div
                    class="absolute -top-4 -right-16 md:-right-24 bg-white text-slate-900 px-4 py-2 rounded-2xl rounded-bl-none shadow-xl transform rotate-3 animate-float opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-100">
                    <p class="font-bold text-sm">Ø£Ø¨Ùˆ Ø­Ø¬Ø§Ø¬ Ù‡Ù†Ø§! ğŸš€</p>
                </div>
            </div>

            <div class="mb-6">
                <div class="inline-block relative">
                    <div
                        class="px-8 py-3 bg-gradient-to-r from-amber-500 via-orange-500 to-red-500 rounded-2xl shadow-2xl transform hover:scale-105 transition-transform">
                        <p class="text-white text-lg md:text-xl font-black tracking-wide">âœ¨ Ù…ØµØ·ÙÙ‰ Ù‡Ø§Ù†ÙŠ Ø­Ø¬Ø§Ø¬ âœ¨</p>
                    </div>
                </div>
            </div>

            <h1 class="text-4xl md:text-6xl font-black mb-6 leading-tight min-h-[1.2em]">
                <span class="bg-clip-text text-transparent bg-gradient-to-r from-white via-indigo-200 to-indigo-400"
                    id="typing-text"></span><span class="cursor-blink"></span>
            </h1>

            <p class="text-lg md:text-xl text-slate-300 max-w-2xl mx-auto mb-10 leading-relaxed">
                Ù…Ø´ Ù…Ø¬Ø±Ø¯ Ù‚ÙˆØ§Ù†ÙŠÙ† Ø¨Ù†Ø­ÙØ¸Ù‡Ø§.. Ø¯ÙŠ Ø±Ø­Ù„Ø© Ù…Ù…ØªØ¹Ø© Ø¹Ø´Ø§Ù† Ù†ÙÙ‡Ù… Ø§Ù„ÙƒÙˆÙ† Ø¨ÙŠØ´ØªØºÙ„ Ø§Ø²Ø§ÙŠ.
                <br> <span class="text-yellow-400 font-bold">Ø§ÙÙ‡Ù….. Ø·Ø¨Ù‚.. Ø§Ø³ØªÙ…ØªØ¹!</span> ğŸ˜
            </p>

            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-3xl mx-auto mb-12">
                <div class="glass-card p-4 rounded-2xl">
                    <div class="text-2xl font-bold text-indigo-400 font-mono">4+</div>
                    <div class="text-xs text-slate-400">Ø¯Ø±ÙˆØ³ ØªÙØ§Ø¹Ù„ÙŠØ©</div>
                </div>
                <div class="glass-card p-4 rounded-2xl">
                    <div class="text-2xl font-bold text-pink-400 font-mono">50+</div>
                    <div class="text-xs text-slate-400">Ø³Ø¤Ø§Ù„ ÙˆÙ„ØºØ²</div>
                </div>
                <div class="glass-card p-4 rounded-2xl">
                    <div class="text-2xl font-bold text-green-400 font-mono">100%</div>
                    <div class="text-xs text-slate-400">Ù…Ø¬Ø§Ù†ÙŠ</div>
                </div>
                <div class="glass-card p-4 rounded-2xl">
                    <div class="text-2xl font-bold text-yellow-400 font-mono">AI</div>
                    <div class="text-xs text-slate-400">Ù…Ø³Ø§Ø¹Ø¯ Ù†ÙŠÙˆØªÙ†</div>
                </div>
            </div>

            <!-- AI Terminal -->
            <div
                class="glass-card max-w-3xl mx-auto rounded-2xl overflow-hidden border border-slate-700 shadow-2xl text-right">
                <div class="bg-slate-900/80 p-3 flex items-center justify-between border-b border-slate-700">
                    <div class="flex gap-2">
                        <div class="w-3 h-3 rounded-full bg-red-500"></div>
                        <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                        <div class="w-3 h-3 rounded-full bg-green-500"></div>
                    </div>
                    <div class="text-xs text-green-400 font-mono flex items-center gap-2">
                        <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                        Ù†ÙŠÙˆØªÙ† ğŸ - Ù…ØªØµÙ„
                    </div>
                </div>
                <div class="h-64 bg-slate-950/80 p-4 overflow-y-auto space-y-4 text-sm" id="chatBox">
                    <div class="flex gap-3">
                        <div
                            class="w-8 h-8 rounded-full bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center shrink-0">
                            ğŸ</div>
                        <div class="bg-slate-800 text-slate-200 p-3 rounded-2xl rounded-tr-sm">
                            Ø£Ù‡Ù„Ø§Ù‹ ÙŠØ§ ÙÙŠØ²ÙŠØ§Ø¦ÙŠ! âš›ï¸<br>
                            Ø£Ù†Ø§ <b>Ù†ÙŠÙˆØªÙ†</b>. Ø¬Ø§Ù‡Ø² Ø£Ø³Ø§Ø¹Ø¯Ùƒ ØªÙÙ‡Ù… Ø£ÙŠ Ù‚Ø§Ù†ÙˆÙ† Ø£Ùˆ ØªØ­Ù„ Ø£ÙŠ Ù…Ø³Ø£Ù„Ø©.
                        </div>
                    </div>
                </div>
                <div class="p-4 bg-slate-900/50 border-t border-slate-700 flex gap-3">
                    <input type="text" id="chatInput"
                        class="flex-1 bg-slate-800/50 border border-slate-700 rounded-xl px-4 py-3 text-sm text-white focus:outline-none focus:border-indigo-500 transition placeholder-slate-500"
                        placeholder="Ø§Ø³Ø£Ù„ Ù†ÙŠÙˆØªÙ† Ø¹Ù† Ø§Ù„Ø¬Ø§Ø°Ø¨ÙŠØ©...">
                    <button id="sendBtn"
                        class="bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white px-6 py-2 rounded-xl font-bold transition shadow-lg shadow-indigo-500/20 flex items-center gap-2">
                        <span>Ø¥Ø±Ø³Ø§Ù„</span> ğŸ
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Lessons Section -->
    <section id="lessons" class="py-20 px-4 relative">
        <div class="max-w-6xl mx-auto">
            <div class="flex items-center justify-between mb-12 border-b border-slate-700 pb-4">
                <h2 class="text-3xl font-bold flex items-center gap-3">
                    <span class="text-4xl">ğŸ“š</span> Ø§Ù„Ù…Ù‚Ø±Ø± Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ
                </h2>
                <div class="text-sm text-slate-400 bg-slate-800 px-3 py-1 rounded-lg">Ø§Ù„ØªØ±Ù… Ø§Ù„Ø«Ø§Ù†ÙŠ</div>
            </div>

            <div class="mb-16">
                <h3 class="text-xl md:text-2xl font-bold mb-6 text-blue-300 flex items-center gap-2">
                    <span
                        class="text-2xl bg-blue-500/20 w-10 h-10 flex items-center justify-center rounded-lg">ğŸ’§</span>
                    Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: Ø®ÙˆØ§Øµ Ø§Ù„Ù…ÙˆØ§Ø¦Ø¹ Ø§Ù„Ø³Ø§ÙƒÙ†Ø©
                </h3>

                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Lesson 1 -->
                    <div onclick="window.location.href='lesson-fluids-part1.html'"
                        class="glass-card rounded-2xl overflow-hidden group cursor-pointer relative lg:col-span-2">
                        <div class="absolute top-0 right-0 p-3 z-10"><span
                                class="bg-green-500/90 text-white text-[10px] font-bold px-2 py-1 rounded shadow-lg">Ù…ØªØ§Ø­
                                Ø§Ù„Ø¢Ù†</span></div>
                        <div
                            class="h-40 bg-gradient-to-br from-blue-600 via-indigo-600 to-violet-600 flex items-center justify-center relative overflow-hidden">
                            <div class="flex gap-4">
                                <span class="text-5xl transform group-hover:scale-110 transition duration-300">ğŸŒŠ</span>
                                <span
                                    class="text-5xl transform group-hover:scale-110 transition duration-300">ğŸŒ¡ï¸</span>
                            </div>
                        </div>
                        <div class="p-6">
                            <h4 class="text-xl font-bold mb-3 group-hover:text-blue-400 transition">Ø®ÙˆØ§Øµ Ø§Ù„Ù…ÙˆØ§Ø¦Ø¹ Ø§Ù„Ø³Ø§ÙƒÙ†Ø©
                            </h4>
                            <p class="text-sm text-slate-400 mb-4">Ø§Ù„Ø¶ØºØ· Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ³ØªØ§ØªÙŠÙƒÙŠØŒ Ø§Ù„Ø£ÙˆØ§Ù†ÙŠ Ø§Ù„Ù…Ø³ØªØ·Ø±Ù‚Ø©ØŒ ÙˆØ§Ù„Ø¨Ø§Ø±ÙˆÙ…ØªØ±.
                            </p>
                            <div class="text-xs text-indigo-400 font-bold">Ø§Ø¶ØºØ· Ù„Ù„Ù…Ø°Ø§ÙƒØ±Ø© â¬…ï¸</div>
                        </div>
                    </div>

                    <!-- Gases 1 -->
                    <div onclick="window.location.href='lesson-gases-part1.html'"
                        class="glass-card rounded-2xl overflow-hidden group cursor-pointer relative border-yellow-500/30">
                        <div class="h-32 bg-gradient-to-br from-red-600 to-orange-500 flex items-center justify-center">
                            <span class="text-5xl transform group-hover:scale-110 transition duration-300">ğŸ’¨</span>
                        </div>
                        <div class="p-5">
                            <h4 class="text-lg font-bold mb-2 group-hover:text-red-400 transition">Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„ØºØ§Ø²Ø§Øª</h4>
                            <p class="text-sm text-slate-400 mb-4">Ø¨ÙˆÙŠÙ„ØŒ Ø´Ø§Ø±Ù„ØŒ ÙˆØ¬ÙˆÙ„ÙŠ.</p>
                            <div class="text-xs text-red-400 font-bold">Ø§Ø¶ØºØ· Ù„Ù„Ù…Ø°Ø§ÙƒØ±Ø© â¬…ï¸</div>
                        </div>
                    </div>

                    <!-- Laws Summary (Cheat Sheet) -->
                    <div onclick="window.location.href='lesson-laws.html'"
                        class="glass-card rounded-2xl overflow-hidden group cursor-pointer relative border-purple-500/30 lg:col-span-3">
                        <div class="absolute top-2 left-2 z-10"><span
                                class="badge-new text-white text-[10px] bold px-2 py-1 rounded shadow">Ø¬Ø¯ÙŠØ¯ ğŸ”¥</span>
                        </div>
                        <div
                            class="h-32 bg-gradient-to-r from-slate-800 to-slate-900 border-b border-indigo-500/30 flex items-center justify-center relative overflow-hidden">
                            <div class="absolute inset-0 bg-indigo-500/10 blur-xl"></div>
                            <span
                                class="text-5xl transform group-hover:scale-110 transition duration-300 relative z-10">âš–ï¸</span>
                        </div>
                        <div class="p-5 flex items-center justify-between">
                            <div>
                                <h4 class="text-xl font-bold mb-1 group-hover:text-purple-400 transition">Ø¨Ù†Ùƒ Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ†
                                    Ø§Ù„Ø´Ø§Ù…Ù„</h4>
                                <p class="text-sm text-slate-400">Ù…Ù„Ø®Øµ ÙƒÙ„ Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ù…Ù†Ù‡Ø¬ ÙÙŠ ØµÙØ­Ø© ÙˆØ§Ø­Ø¯Ø© (Ø§Ù„Ø²ØªÙˆÙ†Ø© ğŸ‹).</p>
                            </div>
                            <div class="bg-purple-600/20 text-purple-300 p-3 rounded-full">â¬…ï¸</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-slate-900 border-t border-slate-800 py-12 mt-12 relative overflow-hidden">
        <div class="absolute -top-20 -left-20 w-40 h-40 bg-indigo-500/10 rounded-full blur-2xl"></div>
        <div class="max-w-7xl mx-auto px-4 text-center">
            <div class="flex items-center justify-center gap-3 mb-6">
                <span class="text-2xl">âš›ï¸</span>
                <span class="font-bold text-xl text-slate-200">Ù…Ù†ØµØ© Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡</span>
            </div>
            <p class="text-slate-500 max-w-sm mx-auto mb-8 text-sm">Ø§ÙÙ‡Ù….. Ø·Ø¨Ù‚.. Ø§Ø³ØªÙ…ØªØ¹!</p>
            <div class="text-xs text-slate-600 font-mono">&copy; 2024 Physics Platform. All rights reserved.</div>
        </div>
    </footer>

    <!-- Logic -->
    <script>
        // Scroll & Particles
        window.addEventListener('scroll', () => {
            const header = document.getElementById('mainHeader');
            if (window.scrollY > 50) header.classList.add('bg-slate-900/95', 'shadow-lg');
            else header.classList.remove('bg-slate-900/95', 'shadow-lg');
        });

        const particleContainer = document.getElementById('particles');
        for (let i = 0; i < 30; i++) {
            const p = document.createElement('div');
            p.className = 'particle';
            const size = Math.random() * 5 + 2;
            p.style.width = size + 'px';
            p.style.height = size + 'px';
            p.style.left = Math.random() * 100 + 'vw';
            p.style.top = Math.random() * 100 + 'vh';
            p.style.opacity = Math.random() * 0.5 + 0.1;
            p.style.animation = `float ${Math.random() * 20 + 10}s ease-in-out infinite ${Math.random() * 5}s`;
            particleContainer.appendChild(p);
        }

        // AI Placeholder Key
        const OPENROUTER_API_KEY = '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';
        const OPENROUTER_API_URL = 'https://openrouter.ai/api/v1/chat/completions';
        const SYSTEM_PROMPT = `Ø£Ù†Øª "Ù†ÙŠÙˆØªÙ† ğŸ"ØŒ Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ Ù„Ø·Ù„Ø§Ø¨ ØªØ§Ù†ÙŠØ© Ø«Ø§Ù†ÙˆÙŠ ÙÙŠØ²ÙŠØ§Ø¡. Ø§Ø´Ø±Ø­ Ø¨Ø£Ø³Ù„ÙˆØ¨ Ù…ØµØ±ÙŠ Ù…Ø¨Ø³Ø·.`;
        let conversationHistory = [];

        // Typing
        const textToType = "Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡.. Ù„Ø¹Ø¨ØªÙƒ Ø§Ù„ØµØºÙŠØ±Ø© âš›ï¸";
        const typingElement = document.getElementById('typing-text');
        let charIndex = 0;
        function typeWriter() {
            if (charIndex < textToType.length) {
                typingElement.textContent += textToType.charAt(charIndex);
                charIndex++;
                setTimeout(typeWriter, 80);
            }
        }
        window.addEventListener('load', typeWriter);

        // ========== Lesson Data ==========
        // ========== Lesson Data ==========
        // External links are used now. This data is kept empty/safe.
        const lessonsData = {
            'fluids': {
                title: 'Ø§Ù„Ù…ÙˆØ§Ø¦Ø¹ Ø§Ù„Ø³Ø§ÙƒÙ†Ø© ğŸŒŠ',
                content: `<div class="p-8 text-center">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø¯Ø±Ø³...</div>`
            },
            'gases': {
                title: 'Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„ØºØ§Ø²Ø§Øª ğŸ’¨',
                content: `<div class="p-8 text-center">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø¯Ø±Ø³...</div>`
            }
        };

        // Modal
        const modal = document.getElementById('lessonModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalBody = document.getElementById('modalBody');

        window.openLesson = function (id) {
            const data = lessonsData[id];
            if (!data) return;
            modalTitle.innerText = data.title;
            modalBody.innerHTML = data.content;
            modal.classList.add('active');
            document.getElementById('modalChatBox').innerHTML = `<div
        class='bg-slate-800 text-slate-300 p-3 rounded-xl mb-4 text-xs text-center border border-slate-700'>Ø¨Ø¯Ø£ Ø¯Ø±Ø³:
        ${data.title}</div>`;
        }
        window.closeLesson = function () { modal.classList.remove('active'); }
        window.selectLesson = function (id) { openLesson(id); }

        // Chat
        async function getAIResponse(userMessage) {
            conversationHistory.push({ role: "user", content: userMessage });

            if (OPENROUTER_API_KEY.includes('PLACEHOLDER')) {
                const fakeReply = "Ù…Ø­ØªØ§Ø¬ Ù…ÙØªØ§Ø­ API Ø¹Ø´Ø§Ù† Ø£Ø´ØªØºÙ„ ÙŠØ§ Ù‡Ù†Ø¯Ø³Ø©! ğŸ";
                conversationHistory.push({ role: "assistant", content: fakeReply });
                return fakeReply;
            }

            try {
                const response = await fetch(OPENROUTER_API_URL, {
                    method: 'POST',
                    headers: { 'Authorization': `Bearer ${OPENROUTER_API_KEY}`, 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        model: 'deepseek/deepseek-r1', messages: [{ role: "system", content: SYSTEM_PROMPT },
                        ...conversationHistory]
                    })
                });
                const data = await response.json();
                const botReply = data.choices?.[0]?.message?.content || "Error";
                conversationHistory.push({ role: "assistant", content: botReply });
                return botReply;
            } catch (error) { return "ÙÙŠ Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±."; }
        }
        // ========== Mobile Toggle Logic ==========
        function showMobileChat() {
            document.getElementById('modalContentPanel').classList.add('hidden');
            document.getElementById('modalContentPanel').classList.remove('flex');
            const chatPanel = document.getElementById('modalChatPanel');
            chatPanel.classList.remove('hidden');
            chatPanel.classList.add('flex');
        }

        function showMobileContent() {
            const chatPanel = document.getElementById('modalChatPanel');
            chatPanel.classList.add('hidden');
            chatPanel.classList.remove('flex');
            document.getElementById('modalContentPanel').classList.remove('hidden');
        }

        window.askAI = function (question) {
            if (window.innerWidth < 768) showMobileChat();
            const input = document.getElementById('modalChatInput');
            input.value = question;
            input.focus();
        };

        window.closeLesson = function () {
            const modal = document.getElementById('lessonModal');
            modal.classList.remove('active');
            setTimeout(() => {
                if (window.innerWidth < 768) showMobileContent();
            }, 300);
        };

        async function handleSend(inputId) {
            const
                input = document.getElementById(inputId); const text = input.value.trim(); if (!text) return; const
                    allBoxes = ['chatBox', 'modalChatBox']; allBoxes.forEach(id => {
                        const box = document.getElementById(id);
                        if (box) {
                            box.innerHTML += `<div class="flex gap-3 flex-row-reverse animate-float-message">
                <div class="w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center shrink-0">ğŸ‘¤</div>
                <div
                    class="bg-gradient-to-l from-indigo-600 to-purple-600 text-white p-3 rounded-2xl rounded-tl-sm message-bubble text-sm">
                    ${text}</div>
            </div>`;
                            box.scrollTop = box.scrollHeight;
                        }
                    });
            input.value = '';

            const reply = await getAIResponse(text);

            allBoxes.forEach(id => {
                const box = document.getElementById(id);
                if (box) {
                    box.innerHTML += `<div class="flex gap-3 animate-float-message">
                <div
                    class="w-8 h-8 rounded-full bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center shrink-0">
                    ğŸ</div>
                <div
                    class="bg-slate-800 text-slate-200 p-3 rounded-2xl rounded-tr-sm message-bubble text-sm leading-relaxed border border-slate-700">
                    ${reply}</div>
            </div>`;
                    box.scrollTop = box.scrollHeight;
                }
            });
        }

        ['chatInput', 'modalChatInput'].forEach(id => {
            const btn = id === 'chatInput' ? 'sendBtn' : 'modalSendBtn';
            document.getElementById(btn).addEventListener('click', () => handleSend(id));
            document.getElementById(id).addEventListener('keypress', (e) => {
                if (e.key === 'Enter') handleSend(id);
            });
        });
    </script>
</body>

</html>
