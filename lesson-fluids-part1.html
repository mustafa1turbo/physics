<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุชุทุจููุงุช ุงูุถุบุท (1) | ููุตุฉ ุงูููุฒูุงุก</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800;900&display=swap"
        rel="stylesheet">
    <style>
        * {
            font-family: 'Cairo', sans-serif;
            scroll-behavior: smooth;
        }

        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #1e293b;
        }

        ::-webkit-scrollbar-thumb {
            background: #3b82f6;
            border-radius: 4px;
        }

        .glass-panel {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .nav-sidebar {
            position: fixed;
            top: 80px;
            right: 20px;
            width: 260px;
            height: calc(100vh - 100px);
            overflow-y: auto;
            z-index: 40;
            transition: transform 0.3s ease;
        }

        @media (max-width: 1024px) {
            .nav-sidebar {
                transform: translateX(110%);
                background: #1e293b;
                right: 0;
                top: 0;
                height: 100vh;
                width: 280px;
                padding-top: 80px;
            }

            .nav-sidebar.active {
                transform: translateX(0);
            }
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            margin-bottom: 8px;
            border-radius: 12px;
            color: #94a3b8;
            transition: all 0.2s;
            cursor: pointer;
            border-right: 3px solid transparent;
            font-weight: 600;
        }

        .nav-item:hover,
        .nav-item.active {
            background: rgba(59, 130, 246, 0.1);
            color: #fff;
            border-right-color: #3b82f6;
        }

        .canvas-wrapper {
            position: relative;
            background: radial-gradient(circle at center, #1e293b 0%, #0f172a 100%);
            border-radius: 16px;
            border: 4px solid #475569;
            box-shadow: inset 0 0 50px rgba(0, 0, 0, 0.5);
            overflow: hidden;
        }

        .control-panel {
            background: #1e293b;
            border-radius: 16px;
            padding: 20px;
            border: 1px solid #334155;
        }

        .range-slider {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: #475569;
            outline: none;
        }

        .range-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #fbbf24;
            cursor: pointer;
            border: 2px solid #fff;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
            transition: transform 0.1s;
        }

        .range-slider::-webkit-slider-thumb:hover {
            transform: scale(1.1);
        }

        /* Pedagogical Badges */
        .badge-understand {
            background: linear-gradient(135deg, #4c1d95, #6d28d9);
            color: #e9d5ff;
            border: 1px solid #8b5cf6;
            padding: 4px 12px;
            border-radius: 99px;
            font-size: 0.8rem;
            font-weight: bold;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            box-shadow: 0 4px 12px rgba(109, 40, 217, 0.3);
            margin-bottom: 8px;
        }

        .badge-memo {
            background: linear-gradient(135deg, #1e40af, #2563eb);
            color: #dbeafe;
            border: 1px solid #60a5fa;
            padding: 4px 12px;
            border-radius: 99px;
            font-size: 0.8rem;
            font-weight: bold;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
            margin-bottom: 8px;
        }

        .trick-box {
            background: rgba(245, 158, 11, 0.1);
            border-right: 4px solid #f59e0b;
            padding: 16px;
            border-radius: 8px;
            margin-top: 16px;
            position: relative;
        }

        .trick-box h5 {
            color: #fbbf24;
            font-weight: bold;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        /* Chat Styling */
        .chat-row {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
            align-items: flex-start;
        }

        .chat-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            flex-shrink: 0;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .chat-bubble {
            padding: 14px 18px;
            border-radius: 18px;
            max-width: 85%;
            line-height: 1.7;
        }

        /* Teacher */
        .teacher-row .chat-avatar {
            background: linear-gradient(135deg, #7c3aed, #4c1d95);
        }

        .teacher-row .chat-bubble {
            background: #2e1065;
            color: #e9d5ff;
            border-top-right-radius: 4px;
        }

        /* Smart Student */
        .student-row .chat-avatar {
            background: linear-gradient(135deg, #2563eb, #1e3a8a);
        }

        .student-row .chat-bubble {
            background: #172554;
            color: #bfdbfe;
            border-top-left-radius: 4px;
        }

        /* Confused Student (Funny) */
        .confused-row .chat-avatar {
            background: linear-gradient(135deg, #dc2626, #7f1d1d);
        }

        .confused-row .chat-bubble {
            background: #450a0a;
            color: #fecaca;
            border-top-left-radius: 4px;
            border: 1px dashed #f87171;
        }
    </style>
</head>

<body class="pb-20">

    <!-- Mobile Nav Toggle -->
    <button onclick="toggleNav()"
        class="fixed top-4 left-4 z-50 lg:hidden bg-slate-800 p-3 rounded-xl border border-slate-700 shadow-lg text-white">
        โฐ ุงูููุฑุณ
    </button>

    <!-- Header -->
    <header
        class="fixed top-0 w-full z-30 bg-slate-900/95 backdrop-blur border-b border-slate-800 h-16 flex items-center px-6 justify-between shadow-lg">
        <div class="flex items-center gap-4">
            <a href="index.html" class="flex items-center gap-2 text-slate-400 hover:text-white transition">
                <span>โฌ๏ธ</span> <span class="hidden md:inline font-bold">ุงูุฑุฆูุณูุฉ</span>
            </a>
            <div class="h-6 w-[1px] bg-slate-700 mx-2"></div>
            <h1 class="font-bold text-lg md:text-xl text-white">ุงููุตู 5: ุฎูุงุต ุงูููุงุฆุน ุงูุณุงููุฉ (ุดุงูู) ๐</h1>
        </div>
        <div class="flex items-center gap-3">
            <div class="hidden md:block text-xs font-bold text-slate-500">ุฅุนุฏุงุฏ: ู/ ูุตุทูู ูุงูู</div>
            <div class="text-sm font-mono text-blue-400 bg-blue-900/20 px-3 py-1 rounded border border-blue-500/30">
                2 ุซ
            </div>
        </div>
    </header>

    <!-- Sidebar -->
    <nav class="nav-sidebar glass-panel" id="sidebar">
        <div class="p-4 border-b border-slate-700 mb-2">
            <h3 class="font-bold text-white">ูุญุชููุงุช ุงูุฏุฑุณ (ุงููุงูู)</h3>
        </div>
        <div onclick="scrollToSection('intro')" class="nav-item active">๐ ููุฏูุฉ ูุถุบุท ุงูุณุงุฆู</div>
        <div onclick="scrollToSection('vessels')" class="nav-item">๐บ ุงูุฃูุงูู ุงููุณุชุทุฑูุฉ</div>
        <div onclick="scrollToSection('utube')" class="nav-item">๐งช ุงูุฃูุจูุจุฉ ุฐุงุช ุงูุดุนุจุชูู</div>
        <div onclick="scrollToSection('barometer')" class="nav-item">๐ก๏ธ ุงูุจุงุฑููุชุฑ ุงูุฌูู</div>
        <div onclick="scrollToSection('manometer')" class="nav-item">โฒ๏ธ ุงููุงูููุชุฑ</div>
        <div onclick="scrollToSection('pascal')" class="nav-item">๐ก ูุงุนุฏุฉ ุจุงุณูุงู</div>
        <div onclick="scrollToSection('press')" class="nav-item">๐๏ธ ุงูููุจุณ ุงูููุฏุฑููููู</div>
        <div onclick="scrollToSection('summary')" class="nav-item">๐ ุงูุฒุชููุฉ ูุงููุฑุงุฌุนุฉ</div>
        <div onclick="scrollToSection('quiz')" class="nav-item">๐ ุงูุชุญุฏู ุงูููุงุฆู</div>
    </nav>

    <!-- Main Content -->
    <main class="lg:mr-[280px] pt-24 px-4 md:px-8 max-w-5xl mx-auto">

        <!-- Intro Section -->
        <section id="intro" class="mb-16 scroll-mt-24">
            <div class="glass-panel p-8 text-center relative overflow-hidden">
                <div class="absolute -top-10 -right-10 w-40 h-40 bg-blue-500/10 rounded-full blur-3xl"></div>

                <h2
                    class="text-3xl md:text-5xl font-black mb-4 bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-cyan-300">
                    ุงูุถุบุท ุนูุฏ ููุทุฉ ูู ุจุงุทู ุณุงุฆู
                </h2>
                <p class="text-xl text-slate-300 mb-8 max-w-2xl mx-auto leading-relaxed">
                    ุงููุงุนุฏุฉ ุงูุฐูุจูุฉ: "ุฌููุน ุงูููุงุท ุงูุชู ุชูุน ูู ูุณุชูู ุฃููู ูุงุญุฏ ูู ุณุงุฆู ุณุงูู ูุชุฌุงูุณ ูููู ููุง ููุณ ุงูุถุบุท".
                </p>

                <div class="flex justify-center gap-4 mb-6">
                    <span class="badge-understand">๐ง ููู ุนููู</span>
                    <span class="badge-memo">๐ฆ ุจุตูุฌุฉ (ูุต ุงููุงููู)</span>
                </div>

                <div
                    class="inline-block bg-slate-800 p-6 rounded-2xl border border-blue-500/30 shadow-lg transform hover:scale-105 transition">
                    <div class="text-4xl font-mono text-cyan-400 font-bold mb-2 dir-ltr">P = ฯ g h</div>
                    <div class="text-sm text-slate-400">ุญูุซ (h) ูู ุงูุนูู ูู ุงูุณุทุญ</div>
                </div>

                <!-- NEW: Student Q&A Dialogue -->
                <div class="mt-8 max-w-2xl mx-auto text-right">
                    <div class="student-row chat-row">
                        <div class="chat-avatar">๐งโ๐</div>
                        <div class="chat-bubble">
                            <p class="text-sm">ูุง ูุณุชุฑุ ุทุจ ููู ุงูุถุบุท ุจูุฒูุฏ ูู ูุง ููุฒู ุชุญุช ูู ุงููููุ ๐ค</p>
                        </div>
                    </div>
                    <div class="teacher-row chat-row">
                        <div class="chat-avatar">๐จโ๐ซ</div>
                        <div class="chat-bubble">
                            <p class="text-sm">ุณุคุงู ููุชุงุฒ! ๐ ุชุฎูู ุฅูู ุจุชุบุทุณ ูู ุญูุงู ุณุจุงุญุฉ. ูู ูุง ุชูุฒูุ ุจูููู ูููู "ุนููุฏ
                                ููู" ุฃุทูู. ุงูุนููุฏ ุฏู ููู ูุฒูุ ูุงููุฒู ุจูุถุบุท ุนููู!</p>
                            <p class="text-xs text-purple-300 mt-1">ุนุดุงู ูุฏู ุงูุบูุงุตูู ุจูุญุณูุง ุจุถุบุท ุนูู ูุฏุงููู ูู ูุง
                                ููุฒููุง ุฃุนูู. โคต๏ธ</p>
                        </div>
                    </div>
                    <div class="student-row chat-row">
                        <div class="chat-avatar">๐งโ๐</div>
                        <div class="chat-bubble">
                            <p class="text-sm">ุฃูุงุงุง! ูุนูู ุงูุถุบุท = ูุฒู ุนููุฏ ุงูููู ููููุ ๐ก</p>
                        </div>
                    </div>
                    <div class="teacher-row chat-row">
                        <div class="chat-avatar">๐จโ๐ซ</div>
                        <div class="chat-bubble">
                            <p class="text-sm">ุจุงูุธุจุท! ๐ ููู ุงูุณุงุฆู ุฃุซูู (ุฒู ุงูุฒุฆุจู)ุ ุงูุถุบุท ููุจูู ุฃูุจุฑ ุนูุฏ ููุณ ุงูุนูู.
                                ุนุดุงู ูุฏู (ฯ) ุงููุซุงูุฉ ููุฌูุฏุฉ ูู ุงููุงููู!</p>
                        </div>
                    </div>
                </div>

                <!-- Confused Student (Funny) -->
                <div class="mt-6 p-4 bg-red-900/20 rounded-xl border border-red-500/30">
                    <div class="student-row chat-row">
                        <div class="chat-avatar">๐ต</div>
                        <div class="chat-bubble">
                            <p class="text-sm">ูุง ูุณุชุฑ ุฃูุง ูููุช! ุงูุถุบุท = ุงูููู ร ุงูุฌุงุฐุจูุฉ ร ุงููุซุงูุฉ! ๐</p>
                        </div>
                    </div>
                    <div class="teacher-row chat-row">
                        <div class="chat-avatar">๐จโ๐ซ</div>
                        <div class="chat-bubble">
                            <p class="text-sm">ูุฑูุจ ูุง ุจุทู ุจุณ ุจุงูุนูุณ! ๐ ุงููุซุงูุฉ ุงูุฃูู: <span
                                    class="font-mono text-yellow-300">P = ฯgh</span></p>
                        </div>
                    </div>
                    <div class="student-row chat-row">
                        <div class="chat-avatar">๐ต</div>
                        <div class="chat-bubble">
                            <p class="text-sm">ุขู ูููุช! ุฑู = 10! ๐ฒ</p>
                        </div>
                    </div>
                    <div class="teacher-row chat-row">
                        <div class="chat-avatar">๐จโ๐ซ</div>
                        <div class="chat-bubble">
                            <p class="text-sm">ูุง ูุง ุญุจูุจู! ๐ ุฑู (ฯ) = ุงููุซุงูุฉ ูุด ุฑูู! g = 10.. ุฑูุฒุฒุฒ!</p>
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </section>

        <!-- Communicating Vessels -->
        <section id="vessels" class="mb-16 scroll-mt-24">
            <h2 class="text-3xl font-bold mb-6 border-r-4 border-blue-500 pr-4">๐บ ุงูุฃูุงูู ุงููุณุชุทุฑูุฉ</h2>

            <div class="glass-panel p-6">
                <div class="grid lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-2">
                        <div
                            class="canvas-wrapper h-[400px] flex items-center justify-center relative bg-slate-900 border-4 border-slate-700">
                            <canvas id="vesselsCanvas"></canvas>
                        </div>
                    </div>

                    <div class="space-y-6">
                        <div class="bg-slate-800 p-6 rounded-xl border-l-4 border-yellow-500">
                            <h4 class="font-bold text-yellow-400 mb-2">๐ก ุงูููุฑุฉ ุงูุนูููุฉ</h4>
                            <p class="text-sm text-slate-300 leading-relaxed">
                                ูููุง ูุงู ุดูู ุงูุฅูุงุก (ุฑููุนุ ุชุฎููุ ุญูุฒููู).. ุงูููุฉ ูุชูุตู ูููุณ ุงูููุณูุจ ูููู ูููู!
                                <br>
                                <span class="text-green-400 font-bold">ุงูุณุจุจ:</span> ุงูุถุบุท ูุนุชูุฏ ุนูู ุงูุงุฑุชูุงุน ุงูุฑุฃุณู (h)
                                ููุท.
                            </p>
                            ููุท.
                            </p>
                            <div class="trick-box">
                                <h5>๐ก ุชุฑููุฉ ุงูุชุญุงู</h5>
                                <p class="text-xs text-slate-300">
                                    ูู ุฌุงูู ุฅูุงุก ุดููู "ุบุฑูุจ" (ุญูุฒููู ุฃู ูุชุนุฑุฌ).. ูุชุฎูุด!
                                    ุทุงููุง ุงููุงุนุฏุฉ ูุงุญุฏุฉ ูุงูุณุงุฆู ูุชุตู.. ุงูุงุฑุชูุงุน ูุงุญุฏ.
                                    <br><span class="text-red-400 font-bold">ุฅูุนู ุชูุฎุฏุน ุจุงูุดูู!</span>
                                </p>
                            </div>
                        </div>

                        <div class="p-4 bg-blue-900/20 rounded-xl border border-blue-500/30">
                            <h5 class="text-xs font-bold text-blue-300 mb-2">ุณุคุงู ูููุชููููู:</h5>
                            <p class="text-sm text-white">ูู ุถุบุท ุงููุงุก ุนูุฏ ูุงุนุฏุฉ ุงูุฅูุงุก ุงููุงุณุน ุฃูุจุฑ ูู ุงูุถููุ</p>
                            <p class="text-xs text-slate-400 mt-2">ุงูุฅุฌุงุจุฉ: <span class="text-red-400 font-bold">ูุฃ!
                                    ูุชุณุงูููู</span> ูุฃู ุงููุณุงุญุฉ ูุด ูู ุงููุงููู P=ฯgh.</p>
                        </div>

                        <button onclick="toggleVessels()" id="vesselBtn"
                            class="w-full py-4 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white rounded-xl font-bold shadow-lg shadow-blue-500/20 transition flex items-center justify-center gap-2 group cursor-pointer">
                            <span class="text-2xl">๐ฐ</span>
                            <span id="vesselBtnText">ุงูุชุญ ุงูุญูููุฉ</span>
                        </button>
                    </div>
                </div>

                <!-- NEW: Student Question Section -->
                <div
                    class="mt-8 p-6 bg-gradient-to-r from-purple-900/30 to-blue-900/30 rounded-xl border border-purple-500/30">
                    <h4 class="text-lg font-bold text-purple-300 mb-4">๐ค ุณุคุงู ูููุฏ (ุงูุทุงูุจ ุงูุดุงุทุฑ)</h4>
                    <div class="student-row chat-row mb-4">
                        <div class="chat-avatar">๐งโ๐</div>
                        <div class="chat-bubble">
                            <p class="text-sm">ุทุจ ูู ุฃูุง ุนุงูุฒ ุฃูุณุฑ ุงููุงุนุฏุฉ ุฏู.. ูุฎููุช ูุฑุน ููู ูุงูู ูุงูุชุงูู ููู ุฒูุชุ ๐ง
                            </p>
                        </div>
                    </div>
                    <div class="teacher-row chat-row">
                        <div class="chat-avatar">๐จโ๐ซ</div>
                        <div class="chat-bubble">
                            <p class="text-sm">ุณุคุงู ุฐูู ุฌุฏุงู! ๐ง ููุง ุงููุงุนุฏุฉ "ูุชุชุนุฏู" ูุด ูุชุชูุณุฑ. ุงูุฒูุช ุฃุฎู ูู ุงููููุ
                                ูุงูุฒูุช <strong class="text-yellow-400">ููุฑุชูุน ุฃูุชุฑ</strong> ุนุดุงู ูุนูุถ ุงููุฑู ูู ุงููุซุงูุฉ!
                            </p>
                            <p class="text-xs text-green-300 mt-1">ููุง ุจูุณุชุฎุฏู ูุงููู ุงูุฃูุจูุจุฉ ุฐุงุช ุงูุดุนุจุชูู: <span
                                    class="font-mono">ฯโ hโ = ฯโ hโ</span></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Solved Example: Multi-Layers -->
            <div class="mt-8 glass-panel p-6 border-t-4 border-blue-500 bg-slate-900/50">
                <h3 class="text-xl font-bold text-white mb-4">๐งฉ ูุณุฃูุฉ ูุญูููุฉ: "ุชูุฑุชุฉ ุงูุณูุงุฆู" ๐ฐ</h3>
                <div class="grid md:grid-cols-2 gap-8 items-center">
                    <div>
                        <p class="text-slate-300 text-sm mb-4 leading-loose">
                            ุฅูุงุก ูุญุชูู ุนูู 3 ุทุจูุงุช:
                            <br>1. ุฒุฆุจู (ุงุฑุชูุงุน 2 ุณู)
                            <br>2. ูุงุก (ุงุฑุชูุงุน 5 ุณู)
                            <br>3. ุฒูุช (ุงุฑุชูุงุน 10 ุณู)
                            <br><span class="text-white font-bold">ุงููุทููุจ: ุงูุถุบุท ุงูููู ุนูุฏ ุงููุงุนุ</span>
                            <br><span class="text-xs text-slate-500">(ูุน ุฅููุงู ุงูุถุบุท ุงูุฌูู ููุชุจุณูุท)</span>
                        </p>

                        <div
                            class="bg-black/30 p-3 rounded-lg border border-slate-700 font-mono text-xs dir-ltr text-right space-y-2">
                            <p class="text-green-400 font-bold mb-2">Total Pressure = P1 + P2 + P3</p>
                            <p class="text-slate-300">P_total = g (ฯโhโ + ฯโhโ + ฯโhโ)</p>
                            <p class="text-slate-400 border-l-2 border-slate-600 pl-2">
                                ฯ_Hg=13600, ฯ_w=1000, ฯ_oil=800
                            </p>
                            <p class="text-yellow-400 font-bold mt-2 border-t border-slate-700 pt-2">
                                Result = 4020 Pa โ
                            </p>
                        </div>
                    </div>

                    <!-- Layers Diagram -->
                    <div class="flex justify-center">
                        <svg viewBox="0 0 100 150" class="w-24 h-40 border-2 border-slate-500 rounded-b-lg bg-white/5">
                            <!-- Mercury (Bottom) -->
                            <rect x="0" y="130" width="100" height="20" fill="#94a3b8" />
                            <text x="50" y="145" font-size="8" fill="white" text-anchor="middle">Merucry (2cm)</text>

                            <!-- Water (Middle) -->
                            <rect x="0" y="80" width="100" height="50" fill="#3b82f6" opacity="0.8" />
                            <text x="50" y="105" font-size="8" fill="white" text-anchor="middle">Water (5cm)</text>

                            <!-- Oil (Top) -->
                            <rect x="0" y="0" width="100" height="80" fill="#eab308" opacity="0.8" />
                            <text x="50" y="40" font-size="8" fill="white" text-anchor="middle">Oil (10cm)</text>
                        </svg>
                    </div>
                </div>
            </div>
            </div>
        </section>

        <!-- U-Tube Theory -->
        <section id="utube" class="mb-16 scroll-mt-24">
            <h2 class="text-3xl font-bold mb-6 border-r-4 border-purple-500 pr-4">๐งช ุงูุฃูุจูุจุฉ ุฐุงุช ุงูุดุนุจุชูู</h2>

            <div class="grid md:grid-cols-2 gap-6 mb-8">
                <div class="glass-panel p-6">
                    <h3 class="text-xl font-bold text-purple-300 mb-4">ููุฑุฉ ุงูุนูู</h3>
                    <ul class="space-y-3 text-slate-300 list-disc list-inside">
                        <li>ูุณุชุฎุฏููุง ูุชุนููู ูุซุงูุฉ ุณุงุฆู ูุฌููู.</li>
                        <li>ูุนุชูุฏ ุนูู ููุฑุฉ <b>ุงูุงุชุฒุงู</b> ุนูุฏ ุงูุณุทุญ ุงููุงุตู.</li>
                        <li>ุงูุถุบุท ุนูุฏ ุงูููุทุฉ (1) = ุงูุถุบุท ุนูุฏ ุงูููุทุฉ (2).</li>
                    </ul>
                    <li>ุงูุถุบุท ุนูุฏ ุงูููุทุฉ (1) = ุงูุถุบุท ุนูุฏ ุงูููุทุฉ (2).</li>
                    </ul>
                    <div class="mt-4">
                        <span class="badge-memo">๐ฆ ุจุตูุฌุฉ (ุงูุงุณุชุฎุฏุงู)</span>
                        <p class="text-xs text-slate-400 mt-1">ุงุญูุธ ุฏู: "ุชุนููู ูุซุงูุฉ ูุงุฏุฉ ุจูุนููููุฉ ูุงุฏุฉ ุฃุฎุฑู".</p>
                    </div>
                </div>

                <div class="glass-panel p-6 flex flex-col justify-center items-center text-center">
                    <h3 class="text-xl font-bold text-green-400 mb-4">ุงููุงููู</h3>
                    <div class="bg-slate-900 px-6 py-3 rounded-lg border border-slate-700 mb-2">
                        <span class="text-2xl font-mono dir-ltr">ฯโ hโ = ฯโ hโ</span>
                    </div>
                    <p class="text-sm text-slate-400">ุนูุงูุฉ ุนูุณูุฉ ุจูู ุงููุซุงูุฉ ูุงูุงุฑุชูุงุน</p>
                </div>
            </div>
        </section>

        <!-- U-Tube Simulation -->
        <section id="utube-sim" class="mb-16 scroll-mt-24">
            <h2 class="text-3xl font-bold mb-6 border-r-4 border-green-500 pr-4">๐ฎ ุงููุนูู ุงูุงูุชุฑุงุถู (Physics Lab)</h2>

            <div class="glass-panel p-4 md:p-6 border border-green-500/30">
                <div class="grid lg:grid-cols-12 gap-8">

                    <!-- Simulation Area -->
                    <div class="lg:col-span-8">
                        <div class="canvas-wrapper h-[500px] relative bg-slate-900">
                            <canvas id="utubeCanvas"></canvas>
                        </div>
                    </div>

                    <!-- Controls -->
                    <div class="lg:col-span-4 space-y-6">
                        <div class="control-panel">
                            <!-- Shape Selector -->
                            <div class="mb-4 bg-slate-800 p-2 rounded-lg border border-slate-700 flex gap-2">
                                <label class="flex-1 cursor-pointer">
                                    <input type="radio" name="tubeShape" value="uniform" checked class="peer sr-only"
                                        onchange="initUtube()">
                                    <div
                                        class="text-center py-2 rounded text-xs text-slate-400 peer-checked:bg-blue-600 peer-checked:text-white transition">
                                        ููุชุธูุฉ ุงูููุทุน (A)
                                    </div>
                                </label>
                                <label class="flex-1 cursor-pointer">
                                    <input type="radio" name="tubeShape" value="irreg" class="peer sr-only"
                                        onchange="initUtube()">
                                    <div
                                        class="text-center py-2 rounded text-xs text-slate-400 peer-checked:bg-purple-600 peer-checked:text-white transition">
                                        ุบูุฑ ููุชุธูุฉ (2A)
                                    </div>
                                </label>
                            </div>

                            <label class="block text-sm font-bold text-yellow-400 mb-4 flex justify-between">
                                <span>ูููุฉ ุงูุฒูุช (ุตุจ ูู ุงููุฑุน ุงูุฃูุณุฑ)</span>
                                <span class="bg-slate-900 px-2 py-1 rounded text-white font-mono" id="oilVal">0
                                    cm</span>
                            </label>

                            <div class="relative h-10 w-full flex items-center">
                                <span class="absolute left-0 text-xs">0</span>
                                <input type="range" id="oilSlider" min="0" max="20" step="0.1" value="0"
                                    class="range-slider z-10">
                                <span class="absolute right-0 text-xs">Max</span>
                            </div>

                            <div class="mt-6 space-y-2 border-t border-slate-700 pt-4">
                                <div class="flex justify-between text-xs text-slate-400">
                                    <span>ูุซุงูุฉ ุงูุฒูุช (ฯ_oil)</span>
                                    <span class="text-yellow-400 font-mono">800 kg/mยณ</span>
                                </div>
                                <div class="flex justify-between text-xs text-slate-400">
                                    <span>ูุซุงูุฉ ุงููุงุก (ฯ_water)</span>
                                    <span class="text-blue-400 font-mono">1000 kg/mยณ</span>
                                </div>
                            </div>
                        </div>

                        <!-- Real-time Calculations -->
                        <div class="bg-black/40 p-4 rounded-xl border border-slate-600 font-mono text-sm">
                            <div class="text-center text-slate-400 mb-2 border-b border-slate-700 pb-2">ุชุญูู ูู ุงูุงุชุฒุงู
                            </div>

                            <div class="grid grid-cols-2 gap-2 text-center">
                                <div>
                                    <div class="text-yellow-500 text-xs mb-1">ุถุบุท ุงูุฒูุช</div>
                                    <div id="oilCalc" class="text-xs">800 ร 0</div>
                                </div>
                                <div class="border-r border-slate-700">
                                    <div class="text-blue-500 text-xs mb-1">ุถุบุท ุงููุงุก</div>
                                    <div id="waterCalc" class="text-xs">1000 ร 0</div>
                                </div>
                            </div>

                            <div id="eqResult" class="text-center mt-3 text-green-400 font-bold hidden animate-pulse">
                                ูุชุฒูุงู! โ
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Advanced Tricks -->
        <section id="advanced" class="mb-16 scroll-mt-24">
            <h2 class="text-3xl font-bold mb-6 border-r-4 border-red-500 pr-4">๐ ูุณุงุฆู ุงููุชููููู</h2>

            <div class="grid md:grid-cols-2 gap-6">
                <!-- Trick 1 -->
                <div class="glass-panel p-6 border-t-4 border-red-500">
                    <h3 class="font-bold text-white mb-3 text-lg">1. ูุณุฃูุฉ "ุตุจ ุงูุณุงุฆู" (x ู 2x)</h3>
                    <div class="flex flex-col gap-4">
                        <p class="text-slate-300 text-sm leading-relaxed">
                            ูู ุตุจููุง ุฒูุช ูู ูุฑุนุ ููุฒู ุงูุณุทุญ ุงููุงุตู ูุณุงูุฉ <span
                                class="text-yellow-400 font-bold">x</span>...
                            <br>
                            ุงููุงุก ููุทูุน ุงููุงุญูุฉ ุงูุชุงููุฉ ูุณุงูุฉ <span class="text-blue-400 font-bold">x</span> (ูู ุงููุฑุนูู
                            ูุฏ ุจุนุถ).
                            <br>
                            ูุจูู ูุฑู ุงูุงุฑุชูุงุน ุงูููู (ูู ุงูุณุทุญ ุงููุงุตู ุงูุฌุฏูุฏ) ูู:
                        </p>
                        <div class="bg-black/40 text-center py-3 rounded-lg font-mono text-green-400 font-bold dir-ltr">
                            h = x (ูุฒูู) + x (ุทููุน) = 2x
                        </div>
                        <div class="trick-box mt-2">
                            <h5>โ๏ธ ูุฎ ุงูููุช</h5>
                            <p class="text-xs text-slate-300">
                                ุฏู ูู ุงููุฑุนูู ูุฏ ุจุนุถ! ูู ูุงุญุฏ ุฃุฏ ุงูุชุงูู ูุฑุชููุ
                                <br>
                                ุงูุณุงุฆู ููุฒู x ููุทูุน x/2.
                                <br> <span class="text-yellow-400">ุฎููู ูุงุตุญ!</span> ุงููุณุงุญุฉ ุจุชูุฑู ูู ุงูุงุฑุชูุงุน ุจุณ ูุด ูู
                                ุงูุถุบุท!
                            </p>
                        </div>

                        <!-- Simple SVG Diagram -->
                        <svg viewBox="0 0 200 100" class="w-full h-24 bg-slate-800 rounded-lg">
                            <!-- Tube -->
                            <path d="M50 20 V80 Q50 90 60 90 H140 Q150 90 150 80 V20" fill="none" stroke="#555"
                                stroke-width="2" />
                            <!-- Old Level -->
                            <line x1="50" y1="50" x2="150" y2="50" stroke="#fff" stroke-dasharray="4" opacity="0.5" />
                            <text x="100" y="45" fill="#fff" font-size="8" text-anchor="middle">ุงููุณุชูู ุงูุฃุตูู</text>
                            <!-- New Level Left (Down) -->
                            <line x1="50" y1="70" x2="150" y2="70" stroke="#22c55e" stroke-dasharray="2" />
                            <text x="30" y="65" fill="#fbbf24" font-size="10">xโ</text>
                            <!-- New Level Right (Up) -->
                            <rect x="140" y="30" width="10" height="40" fill="#3b82f6" opacity="0.5" />
                            <text x="170" y="45" fill="#3b82f6" font-size="10">xโ</text>
                            <text x="170" y="60" fill="#fff" font-size="10">Total = 2x</text>
                        </svg>
                    </div>
                </div>

                <!-- Trick 2 -->
                <div class="glass-panel p-6 border-t-4 border-yellow-500">
                    <h3 class="font-bold text-white mb-3 text-lg">2. ูุฎ "ูุณุงุญุฉ ุงูููุทุน"</h3>
                    <p class="text-slate-300 text-sm leading-relaxed mb-4">
                        ูู ุงูุฃูุจูุจุฉ ูุฑุนูุง ุงููููู ุชุฎูู (3A) ูุงููุณุงุฑ ุฑููุน (A).. ูู ุงูุงุฑุชูุงุน (h) ููุฎุชููุ
                    </p>
                    <div class="bg-red-900/30 p-4 rounded-lg border border-red-500/30 text-center">
                        <span class="text-red-400 font-bold text-xl block mb-2">ุงูุฅุฌุงุจุฉ: ูุฃ! ๐ซ</span>
                        <p class="text-xs text-slate-200">
                            ุงูุงุฑุชูุงุน ุงูุฑุฃุณู ููุณุงุฆู ูุง ูุนุชูุฏ ุนูู ูุณุงุญุฉ ุงูุฃูุจูุจุฉ.
                            <br>
                            <span class="font-mono dir-ltr text-yellow-300">P = ฯgh</span> (ูููุด A ูู ุงููุงููู!)
                        </p>
                    </div>
                </div>
            </div>
        </section>


        <!-- ============================================== -->
        <!-- PART 2: BAROMETER & MANOMETER MERGED CONTENT -->
        <!-- ============================================== -->

        <!-- Warning -->
        <section class="mb-16">
            <div class="mb-8 p-1 rounded-2xl bg-gradient-to-r from-red-600 to-orange-600 animate-pulse">
                <div class="bg-slate-900 rounded-xl p-6 text-center">
                    <h3 class="text-2xl font-bold text-white mb-2">๐จ ุชูุจูู ูุงู ุฌุฏุงู ๐จ</h3>
                    <p class="text-lg text-slate-300">
                        ุงูุฏุฑุณ ุฏู ููู "ูููุชูู ูุญุฏุงุช" ุฑููุจ! (atm, bar, Pa, cmHg). <br>
                        ูู ุญูุธุช ุงูุชุญูููุงุช ุบูุทุ ุงููุณุฃูุฉ ุทุงุฑุช. ุฑูุฒ ูู ูุณู ุงููุญุฏุงุช ูููุณ!
                    </p>
                </div>
            </div>
        </section>

        <!-- Barometer Theory -->
        <section id="barometer" class="mb-16 scroll-mt-24">
            <h2 class="text-3xl font-bold mb-6 border-r-4 border-purple-500 pr-4">๐ก๏ธ ุงูุจุงุฑููุชุฑ ุงูุฒุฆุจูู (ุชุฌุฑุจุฉ ุชูุฑุดูููู)
            </h2>

            <!-- Intro Chat -->
            <div class="bg-slate-800/50 p-4 rounded-xl border border-slate-700 mb-6 text-right">
                <div class="flex items-center gap-2 mb-2">
                    <span class="text-2xl">๐จโ๐ซ</span> <span class="font-bold text-purple-400">ุฃุจู ุญุฌุงุฌ:</span>
                </div>
                <p class="text-slate-300">
                    ุชูุฑุดูููู ุฌุงุจ ุฃูุจูุจุฉ ูุชุฑ ูููุงูุฉ ุฒุฆุจู ูููุจูุง ูู ุญูุถ. ุงูุฒุฆุจู ูุฒู ูููู ุนูุฏ 76 ุณู. ูููุ ๐ค <br>
                    ูุฃู <strong class="text-yellow-400">ุถุบุท ุงูููุงุก ุงูุฌูู</strong> ุจูุนุงุฏู ุถุบุท ุนููุฏ ุงูุฒุฆุจู ุฏู!
                </p>
            </div>

            <div class="grid md:grid-cols-2 gap-8">
                <div class="glass-panel p-6">
                    <h3 class="text-xl font-bold text-yellow-400 mb-4">ููุฑุฉ ุงูุนูู</h3>
                    <div class="bg-slate-900 p-4 rounded-xl border border-slate-700 text-center">
                        <p class="font-bold text-green-400 mb-2">ุนูุฏ ุงูุงุชุฒุงู:</p>
                        <p class="text-white">ุถุบุท ุนููุฏ ุงูุฒุฆุจู = ุงูุถุบุท ุงูุฌูู</p>
                        <div class="mt-2 text-2xl font-mono text-purple-400 dir-ltr">Pโ = ฯ g h</div>
                    </div>
                </div>

                <div class="glass-panel p-6">
                    <h3 class="text-xl font-bold text-red-400 mb-4">ููู ุฒุฆุจู ูุด ููุฉุ</h3>
                    <ul class="space-y-3 text-slate-300 list-disc list-inside">
                        <li>ูุซุงูุฉ ุงูุฒุฆุจู ุนุงููุฉ ุฌุฏุงู (13600).</li>
                        <li>ูุงูุงุฑุชูุงุน ุงููุทููุจ ูู <b>0.76 ูุชุฑ</b> (ูููู ูู ุงููุนูู).</li>
                        <li>ูู ููุฉุ ููุญุชุงุฌ ุฃูุจูุจุฉ <b>10 ูุชุฑ</b>! (ุนูุงุฑุฉ 3 ุฃุฏูุงุฑ). ๐</li>
                    </ul>
                </div>
            </div>

            <!-- Student Q&A -->
            <div class="mt-8 max-w-2xl mx-auto text-right">
                <div class="student-row chat-row">
                    <div class="chat-avatar">๐งโ๐</div>
                    <div class="chat-bubble">
                        <p class="text-sm">ูุง ูุณุชุฑุ ุทุจ ูู ุฃูุง ูููุช ุงูุฃูุจูุจุฉ ุงูุจุงุฑููุชุฑูุฉุ ุงูุฑูู ููุชุบูุฑุ</p>
                    </div>
                </div>
                <div class="teacher-row chat-row">
                    <div class="chat-avatar">๐จโ๐ซ</div>
                    <div class="chat-bubble">
                        <p class="text-sm">ุฏู "ูุฎ ุงูุงูุชุญุงู"! โ๏ธ ุงูุงุฑุชูุงุน ุงูุฑุฃุณู (h) <strong
                                class="text-green-400">ุซุงุจุช</strong> ูุฃู ุงูุถุบุท ุงูุฌูู ูุชุบูุฑุด! ุงููู ุจูุฒูุฏ ูู <strong
                                class="text-yellow-400">ุทูู ุนููุฏ ุงูุฒุฆุจู ุงููุงูู</strong>.</p>
                    </div>
                </div>
            </div>
            <!-- Barometer Simulation -->
            <div class="mt-8 glass-panel p-4 md:p-6 border border-purple-500/30 relative">
                <h3 class="text-xl font-bold text-white mb-4">๐ฎ ูุญุงูุงุฉ ุงูุจุงุฑููุชุฑ</h3>

                <div class="grid lg:grid-cols-12 gap-8">
                    <!-- Sim Canvas -->
                    <div class="lg:col-span-8 relative">
                        <div
                            class="canvas-wrapper h-[400px] relative bg-slate-900 border-4 border-slate-700 cursor-crosshair group">
                            <canvas id="barometerCanvas"></canvas>
                            <div
                                class="absolute top-2 left-2 text-xs text-slate-500 opacity-50 group-hover:opacity-100 transition">
                                ๐ ูุฑุฑ ุงููุงูุณ ููุชูุจูุฑ</div>
                        </div>
                        <!-- Magnifier -->
                        <div id="magnifier"
                            class="hidden absolute w-[120px] h-[120px] rounded-full border-4 border-white shadow-2xl overflow-hidden pointer-events-none z-50"
                            style="background: #fff;">
                            <canvas id="magCanvas" width="120" height="120"></canvas>
                        </div>
                    </div>

                    <!-- Controls -->
                    <div class="lg:col-span-4 space-y-6">
                        <div class="control-panel">
                            <!-- Altitude Control -->
                            <div class="mb-6">
                                <label class="block text-sm font-bold text-slate-400 mb-2 flex justify-between">
                                    <span>ุงูุงุฑุชูุงุน ุนู ุณุทุญ ุงูุจุญุฑ</span>
                                    <span class="text-yellow-400 font-mono" id="hVal">0 m</span>
                                </label>
                                <input type="range" id="altitudeSlider" min="0" max="2000" step="10" value="0"
                                    class="range-slider">
                                <div class="flex justify-between text-xs mt-1 text-slate-500">
                                    <span>Sea Level</span>
                                    <span>Mountain</span>
                                </div>
                            </div>

                            <!-- Angle Control -->
                            <div class="mb-4">
                                <label class="block text-sm font-bold text-slate-400 mb-2 flex justify-between">
                                    <span>ุฒุงููุฉ ุงูุฃูุจูุจุฉ</span>
                                    <span class="text-purple-400 font-mono" id="angleVal">0ยฐ</span>
                                </label>
                                <input type="range" id="angleSlider" min="0" max="60" step="1" value="0"
                                    class="range-slider">
                            </div>

                            <!-- Readings -->
                            <div class="bg-black/40 p-4 rounded-xl border border-slate-600 space-y-2 font-mono text-sm">
                                <div class="flex justify-between">
                                    <span class="text-slate-400">ุงูุถุบุท (Pa):</span>
                                    <span class="text-green-400" id="paVal">101,325</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-slate-400">ุงูุงุฑุชูุงุน (h):</span>
                                    <span class="text-yellow-400" id="hCmVal">76.0 cm</span>
                                </div>
                            </div>
                        </div>

                        <!-- Unit Converter -->
                        <div class="bg-slate-800 p-4 rounded-xl border border-slate-600">
                            <h5 class="text-xs font-bold text-blue-300 mb-3">๐ ูุญูู ุงููุญุฏุงุช ุงูุณุฑูุน</h5>
                            <div class="flex gap-2 mb-2">
                                <input type="number" id="convInput" placeholder="ุงููููุฉ"
                                    class="w-full bg-slate-700 border border-slate-600 rounded px-2 py-1 text-white text-sm">
                                <select id="convFrom"
                                    class="bg-slate-700 border border-slate-600 rounded px-2 py-1 text-white text-xs">
                                    <option value="atm">atm</option>
                                    <option value="cmHg">cmHg</option>
                                    <option value="pa">Pascal</option>
                                    <option value="bar">Bar</option>
                                    <option value="torr">Torr</option>
                                </select>
                            </div>
                            <div id="convResult"
                                class="text-xs font-mono text-slate-300 bg-black/20 p-2 rounded h-16 overflow-y-auto">
                                ุฃุฏุฎู ูููุฉ ููุชุญููู...
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Deep Dive: Torricelli Vacuum Mysteries -->
            <div class="mt-8 grid md:grid-cols-2 gap-6">
                <div class="trick-box bg-purple-900/10 border-purple-500">
                    <h5>๐ฎ ูุงุฐุง ูู... (ุณููุงุฑูููุงุช ุงูุฑุนุจ)</h5>
                    <ul class="list-disc list-inside text-xs text-slate-300 space-y-2 mt-2">
                        <li>
                            <strong class="text-white">ุงูุฃูุจูุจุฉ ูุงูุชุ</strong>
                            <span class="text-purple-300">ุทูู ุงูุฒุฆุจู ูุฒูุฏ</span>ุ ุจุณ <span
                                class="text-green-400">ุงูุงุฑุชูุงุน ุงูุฑุฃุณู ุซุงุจุช</span>.
                        </li>
                        <li>
                            <strong class="text-white">ุงูุฃูุจูุจุฉ ูุตูุฑุฉ (< 76cm)ุ</strong>
                                    <span class="text-red-400">ุงูุฒุฆุจู ููููู ุงูุฃูุจูุจุฉ ููุขุฎุฑ</span> ููุด ูููุฒู (ูููุด ูุฑุงุบ
                                    ููุชููู ุฃุณุงุณุงู).
                        </li>
                        <li>
                            <strong class="text-white">ุงูุฃูุจูุจุฉ ุงุชูุณุฑุช ูู ูููุ</strong>
                            <span class="text-red-500 font-bold">ูุงุฑุซุฉ!</span> ุงูููุงุก ููุฏุฎูุ ูุงูุฒุฆุจู ูููุฒู ููู ูู ุงูุญูุถ
                            (ุงูุถุบุท ุชุณุงูู).
                        </li>
                    </ul>
                </div>

                <div class="glass-panel p-4 flex items-center justify-center border border-slate-600">
                    <div class="text-center">
                        <p class="text-sm font-bold text-white mb-2">ุชุฃุซูุฑ ููุงุนุฉ ุงูููุงุก ๐ซง</p>
                        <p class="text-xs text-slate-400 mb-2">ูู ุฏุฎูุช ููุงุนุฉ ูู ุงููุฑุงุบุ ุจุชุถุบุท ุนูู ุงูุฒุฆุจู ูุชุญุช.</p>
                        <div class="text-2xl font-mono text-red-500 dir-ltr">h < 76 cm</div>
                                <p class="text-[10px] text-slate-500 mt-1">ุงููุฑุงุกุฉ ูุชููู "ุบูุท" ูุฃูู ูู ุงูุญูููุฉ.</p>
                        </div>
                    </div>
                </div>
        </section>

        <!-- Manometer & Advanced Problems -->
        <section id="manometer" class="mb-16 scroll-mt-24">
            <h2 class="text-3xl font-bold mb-6 border-r-4 border-red-500 pr-4">โฒ๏ธ ุงููุงูููุชุฑ ููุณุงุฆู ุงููุชููููู</h2>

            <!-- Problem 1: Building Height (Solved Example) -->
            <div class="glass-panel p-6 mb-8 relative overflow-hidden border-t-4 border-yellow-500">
                <div class="absolute top-0 right-0 w-2 h-full bg-yellow-500"></div>
                <h3 class="text-xl font-bold text-white mb-3">๐งฉ ูุณุฃูุฉ ูุญูููุฉ: ูุงุทุญุฉ ุงูุณุญุงุจ</h3>

                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <p class="text-slate-300 text-sm mb-4 leading-loose">
                            ูุฑุงุกุฉ ุงูุจุงุฑููุชุฑ ุฃุณูู ูุจูู <span class="text-purple-400 font-mono">76 cmHg</span>
                            ูุฃุนูุงู <span class="text-purple-400 font-mono">74 cmHg</span>.
                            ูุฅุฐุง ูุงู ูุชูุณุท ูุซุงูุฉ ุงูููุงุก <span class="text-blue-400 font-mono">1.25 kg/mยณ</span>
                            ููุซุงูุฉ ุงูุฒุฆุจู <span class="text-gray-400 font-mono">13600 kg/mยณ</span>.
                            <br>
                            <span class="text-white font-bold">ุงููุทููุจ: ุงุฑุชูุงุน ุงููุจููุ</span>
                        </p>

                        <div class="bg-black/30 p-3 rounded-lg border border-slate-700">
                            <h5 class="text-xs text-green-400 font-bold mb-2">๐ก ุงูุญู ุฎุทูุฉ ุจุฎุทูุฉ:</h5>
                            <ol
                                class="list-decimal list-inside text-xs text-slate-300 space-y-2 font-mono dir-ltr text-right">
                                <li>ฮP_air = ฮP_Hg</li>
                                <li>ฯ_air ร g ร h_bldg = ฯ_Hg ร g ร ฮh_Hg</li>
                                <li>1.25 ร h = 13600 ร (0.76 - 0.74)</li>
                                <li>h = (13600 ร 0.02) / 1.25</li>
                                <li class="text-yellow-400 font-bold">h = 217.6 m โ</li>
                            </ol>
                        </div>
                    </div>

                    <!-- Diagram for Building -->
                    <div class="flex items-center justify-center bg-slate-900/50 rounded-xl p-4">
                        <svg viewBox="0 0 200 150" class="w-full h-32">
                            <!-- Building -->
                            <rect x="140" y="50" width="40" height="100" fill="#475569" />
                            <rect x="145" y="60" width="10" height="10" fill="#facc15" opacity="0.5" />
                            <rect x="165" y="60" width="10" height="10" fill="#facc15" opacity="0.5" />
                            <rect x="145" y="80" width="10" height="10" fill="#facc15" opacity="0.5" />
                            <rect x="165" y="80" width="10" height="10" fill="#facc15" opacity="0.5" />

                            <!-- Barometers -->
                            <g transform="translate(100, 130)">
                                <rect x="0" y="-30" width="6" height="30" fill="#9ca3af" />
                                <text x="10" y="-10" fill="#fff" font-size="8">76</text>
                            </g>
                            <g transform="translate(100, 50)">
                                <rect x="0" y="-20" width="6" height="20" fill="#9ca3af" />
                                <text x="10" y="-10" fill="#fff" font-size="8">74</text>
                            </g>

                            <!-- Height Arrow -->
                            <line x1="130" y1="50" x2="130" y2="150" stroke="#facc15" stroke-dasharray="4" />
                            <text x="110" y="100" fill="#facc15" font-size="10">h_bldg</text>
                        </svg>
                    </div>
                </div>
            </div>

            <!-- Problem 2: Manometer Visuals -->
            <div class="glass-panel p-6 relative overflow-hidden">
                <h3 class="text-xl font-bold text-white mb-6">2. ุงููุงูููุชุฑ (ุญุงูุงุช ุงูุถุบุท ุงูุซูุงุซุฉ) ๐</h3>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">

                    <!-- Case 1 -->
                    <div class="bg-slate-800 p-4 rounded-xl border border-slate-600 flex flex-col items-center">
                        <h4 class="text-green-400 font-bold mb-2">ุถุบุท ุนุงูู (P > Pa)</h4>
                        <svg viewBox="0 0 100 120" class="w-24 h-32 mb-2">
                            <!-- U Tube -->
                            <path d="M20 20 V80 Q20 100 50 100 Q80 100 80 80 V10" fill="none" stroke="#64748b"
                                stroke-width="6" />
                            <!-- Balloon -->
                            <circle cx="20" cy="20" r="15" fill="#ef4444" opacity="0.8" />
                            <!-- Liquid -->
                            <path d="M20 50 V80 Q20 100 50 100 Q80 100 80 80 V30" fill="none" stroke="#9ca3af"
                                stroke-width="4" />
                            <!-- Mark -->
                            <line x1="50" y1="50" x2="90" y2="50" stroke="#fff" stroke-dasharray="2" opacity="0.5" />
                        </svg>
                        <div class="text-xs font-mono text-white dir-ltr bg-black/40 px-2 py-1 rounded">P_gas = P_a + h
                        </div>
                    </div>

                    <!-- Case 2 -->
                    <div class="bg-slate-800 p-4 rounded-xl border border-slate-600 flex flex-col items-center">
                        <h4 class="text-blue-400 font-bold mb-2">ูุชุฒู (P = Pa)</h4>
                        <svg viewBox="0 0 100 120" class="w-24 h-32 mb-2">
                            <!-- U Tube -->
                            <path d="M20 20 V80 Q20 100 50 100 Q80 100 80 80 V10" fill="none" stroke="#64748b"
                                stroke-width="6" />
                            <!-- Balloon -->
                            <circle cx="20" cy="20" r="15" fill="#3b82f6" opacity="0.8" />
                            <!-- Liquid -->
                            <path d="M20 40 V80 Q20 100 50 100 Q80 100 80 80 V40" fill="none" stroke="#9ca3af"
                                stroke-width="4" />
                        </svg>
                        <div class="text-xs font-mono text-white dir-ltr bg-black/40 px-2 py-1 rounded">P_gas = P_a
                        </div>
                    </div>

                    <!-- Case 3 -->
                    <div class="bg-slate-800 p-4 rounded-xl border border-slate-600 flex flex-col items-center">
                        <h4 class="text-yellow-400 font-bold mb-2">ุดูุท (P < Pa)</h4>
                                <svg viewBox="0 0 100 120" class="w-24 h-32 mb-2">
                                    <!-- U Tube -->
                                    <path d="M20 20 V80 Q20 100 50 100 Q80 100 80 80 V10" fill="none" stroke="#64748b"
                                        stroke-width="6" />
                                    <!-- Balloon -->
                                    <circle cx="20" cy="20" r="15" fill="#eab308" opacity="0.8" />
                                    <!-- Liquid -->
                                    <path d="M20 30 V80 Q20 100 50 100 Q80 100 80 80 V50" fill="none" stroke="#9ca3af"
                                        stroke-width="4" />
                                    <!-- Mark -->
                                    <line x1="10" y1="50" x2="50" y2="50" stroke="#fff" stroke-dasharray="2"
                                        opacity="0.5" />
                                </svg>
                                <div class="text-xs font-mono text-white dir-ltr bg-black/40 px-2 py-1 rounded">P_gas =
                                    P_a - h</div>
                    </div>

                </div>
            </div>
        </section>


        <!-- ============================================== -->
        <!-- PART 3: PASCAL & HYDRAULIC PRESS MERGED CONTENT -->
        <!-- ============================================== -->

        <!-- Pascal Principle -->
        <section id="pascal" class="mb-16 scroll-mt-24">
            <h2 class="text-3xl font-bold mb-6 border-r-4 border-yellow-500 pr-4">๐ก ูุงุนุฏุฉ ุจุงุณูุงู (Pascal's Principle)
            </h2>
            <div class="glass-panel p-8 text-center relative overflow-hidden">
                <div class="absolute -top-10 -left-10 w-40 h-40 bg-red-500/10 rounded-full blur-3xl"></div>

                <div class="bg-slate-800 p-6 rounded-2xl border-r-4 border-red-500 text-right max-w-3xl mx-auto">
                    <p class="text-xl leading-relaxed text-slate-200">
                        "ุนูุฏ ุงูุชุฃุซูุฑ ุจุถุบุท ุนูู ุณุงุฆู ูุญุจูุณ ูู ุฅูุงุกุ ูุฅู ุงูุถุบุท ููุชูู <span
                            class="text-yellow-400 font-bold">ุจุชูุงูู</span> ุฅูู ุฌููุน ุฃุฌุฒุงุก ุงูุณุงุฆู ูุฌุฏุฑุงู ุงูุฅูุงุก."
                    </p>
                    <div class="mt-4 flex justify-center">
                        <span class="badge-understand">๐ง ููู ุนููู: (ุงูุถุบุท ููุชูู ุจุชูุงูู)</span>
                    </div>
                </div>

                <div class="grid md:grid-cols-2 gap-4 mt-8">
                    <div class="bg-blue-900/20 p-4 rounded-xl border border-blue-500/30">
                        <h4 class="font-bold text-blue-300 mb-2">โ ููุทุจู ุนูู ุงูุณูุงุฆู</h4>
                        <p class="text-sm">ูุฃููุง ุบูุฑ ูุงุจูุฉ ููุงูุถุบุงุท.</p>
                    </div>
                    <div class="bg-red-900/20 p-4 rounded-xl border border-red-500/30">
                        <h4 class="font-bold text-red-300 mb-2">โ ูุง ููุทุจู ุนูู ุงูุบุงุฒุงุช</h4>
                        <p class="text-sm">ูุฃููุง ุชูุถุบุท ูุชุณุชููู ุฌุฒุก ูู ุงูุดุบู.</p>
                    </div>
                </div>

                <!-- NEW: Student Dialogue -->
                <div class="mt-8 max-w-2xl mx-auto text-right">
                    <h4 class="text-lg font-bold text-purple-300 mb-4 text-center">๐ค ุณุคุงู ุงูุทุงูุจ ุงูุดุงุทุฑ</h4>
                    <div class="student-row chat-row">
                        <div class="chat-avatar">๐งโ๐</div>
                        <div class="chat-bubble">
                            <p class="text-sm">ูุง ูุณุชุฑุ ุทุจ ููู ุงูุถุบุท "ุจููุชูู ุจุชูุงูู"ุ ูุด ุงูููุฑูุถ ุงูุณุงุฆู ูุงูู ุญุงุฌุฉ ูู
                                ุงูุถุบุทุ ๐ค</p>
                        </div>
                    </div>
                    <div class="teacher-row chat-row">
                        <div class="chat-avatar">๐จโ๐ซ</div>
                        <div class="chat-bubble">
                            <p class="text-sm">ุณุคุงู ุนุจูุฑู! ๐ง ุงูุณุงุฆู <strong class="text-yellow-400">"ูุด
                                    ุจููุถุบุท"</strong>. ุชุฎูู ุฅูู ุจุชุถุบุท ุนูู ูุฑุฉ ุญุฏูุฏุ ุงูููุฉ ูุชุชููู ุฒู ูุง ูู!</p>
                            <p class="text-xs text-purple-300 mt-1">ููู ุงูุบุงุฒ ุจููุถุบุทุ ูุจููุชุต ุฌุฒุก ูู ุงูุถุบุท.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Hydraulic Press Theory -->
        <section id="press" class="mb-16 scroll-mt-24">
            <h2 class="text-3xl font-bold mb-6 border-r-4 border-green-500 pr-4">๐๏ธ ุงูููุจุณ ุงูููุฏุฑููููู</h2>

            <div class="glass-panel p-6">
                <div class="flex flex-col md:flex-row items-center gap-8">
                    <div class="flex-1">
                        <h3 class="text-2xl font-bold text-white mb-4">ููุฑุฉ ุงูุนูู (ุชูุจูุฑ ุงูููุฉ)</h3>
                        <p class="text-slate-300 mb-4 leading-relaxed">
                            ุฒู "ุงูุนุชูุฉ" ุจุงูุธุจุท! ุจุชุฃุซุฑ ุจููุฉ ุตุบูุฑุฉ ($F_1$) ุนูู ููุจุณ ุตุบูุฑ ($A_1$)ุ ูุงูุถุบุท ููุชูู ููููุจุณ
                            ุงููุจูุฑ ($A_2$) ููุชุญูู ูููุฉ ุฌุจุงุฑุฉ ($F_2$) ุชูุฏุฑ ุชุฑูุน ุนุฑุจูุฉ!
                        </p>
                        <div
                            class="bg-slate-900 p-4 rounded-xl border border-slate-700 font-mono text-center text-xl dir-ltr">
                            P = Fโ/Aโ = Fโ/Aโ
                        </div>
                    </div>
                    <div class="w-full md:w-1/3 bg-white/5 p-4 rounded-xl text-center">
                        <div class="text-4xl mb-2">๐ โก๏ธ ๐</div>
                        <p class="text-sm text-slate-400">ูููุฉ ุชุฑูุน ููู!</p>
                    </div>
                </div>
            </div>

            <!-- Warning Box -->
            <div class="mt-6 bg-red-900/20 p-6 rounded-2xl border border-red-500/50">
                <h4 class="text-red-400 font-bold mb-2 flex items-center gap-2">
                    <span>โก</span> ุชุญุฐูุฑ ูุงู: ูุงููู ุจูุงุก ุงูุทุงูุฉ
                </h4>
                <p class="text-slate-300 text-sm leading-loose">
                    ุงูููุจุณ ูุด ุจูุฎูู ุทุงูุฉ ูู ุงูุนุฏู! ๐ซ<br>
                    ุงูุดุบู ุงููุจุฐูู ุนูุฏ ุงูููุจุณ ุงูุตุบูุฑ = ุงูุดุบู ุงููุงุชุฌ ุนูุฏ ุงูููุจุณ ุงููุจูุฑ.<br>
                    <span class="font-mono text-white bg-black/30 px-2 rounded">Workโ = Workโ</span><br>
                    ูุนูู ุฅุญูุง ุจููุณุจ ููุฉุ ุจุณ ุจูุฎุณุฑ ูุณุงูุฉ. (ูุงุฒู ุชุญุฑู ุฏุฑุงุนู ูุชูุฑ ุนุดุงู ุงูุนุฑุจูุฉ ุชุทูุน ุญุชุฉ ุตุบูุฑุฉ).
                </p>
            </div>
        </section>

        <!-- Hydraulic Press Simulation -->
        <section id="press" class="mb-16 scroll-mt-24">
            <h3 class="text-xl font-bold text-white mb-4 pr-4 border-r-4 border-green-500">๐ฎ ูุฑุดุฉ ุงููููุงูููุง (ุงุฑูุน
                ุงูุนุฑุจูุฉ)</h3>
            <div class="glass-panel p-4 md:p-6 border border-green-500/30">
                <div class="grid lg:grid-cols-12 gap-8">
                    <!-- Sim Canvas -->
                    <div class="lg:col-span-8">
                        <div class="canvas-wrapper h-[450px] relative">
                            <canvas id="pressCanvas"></canvas>
                        </div>
                    </div>

                    <!-- Controls -->
                    <div class="lg:col-span-4 space-y-6">
                        <div class="control-panel">
                            <h4 class="font-bold text-white mb-4">ููุญุฉ ุงูุชุญูู:</h4>

                            <div class="mb-6">
                                <label class="block text-sm font-bold text-slate-400 mb-2">ุงุถุบุท ุนูู ุงูููุจุณ ุงูุตุบูุฑ
                                    (F1)</label>
                                <input type="range" id="forceSlider" min="0" max="100" step="1" value="0"
                                    class="range-slider">
                                <div class="flex justify-between text-xs mt-2 font-mono">
                                    <span class="text-slate-400">ุจุฏูู ููุฉ</span>
                                    <span class="text-red-400 font-bold">Max Force</span>
                                </div>
                            </div>

                            <div class="bg-black/40 p-4 rounded-xl border border-slate-600 space-y-3">
                                <h5 class="text-xs text-slate-500 font-bold mb-2">ุงูุนุฏุงุฏุงุช:</h5>
                                <div class="flex justify-between items-center border-b border-slate-700 pb-2">
                                    <span class="text-xs text-slate-300">ุงูููุฉ ุงููุงุชุฌุฉ (F2)</span>
                                    <span class="text-lg font-mono text-green-400 dir-ltr" id="f2Val">0 N</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-xs text-slate-300">ุงููุงุฆุฏุฉ ุงูุขููุฉ (ฮท)</span>
                                    <span class="text-lg font-mono text-yellow-400 dir-ltr">10x</span>
                                </div>
                            </div>

                            <div class="trick-box">
                                <h5>โก ุฅูุนู ุชุชูุฎุจุท!</h5>
                                <p class="text-xs text-slate-300">
                                    ุงูููุฉ ุจุชุฒูุฏุ <strong class="text-green-400">ุขู</strong>.<br>
                                    ุงูุดุบู (ุงูุทุงูุฉ) ุจูุฒูุฏุ <strong class="text-red-400">ูุฃุ ูุณุชุญูู!</strong> (ูุงููู ุจูุงุก
                                    ุงูุทุงูุฉ).
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Summary Section (The Zaytouna) -->
        <section id="summary" class="mb-20 scroll-mt-24">
            <h2 class="text-3xl font-bold mb-6 border-r-4 border-indigo-500 pr-4">ุฎูุงุตุฉ ุงูููุงููู (ุงูุฒุชููุฉ) ๐</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">

                <!-- Pressure -->
                <div class="glass-panel p-4 border-t-4 border-blue-500">
                    <h4 class="text-blue-400 font-bold mb-2">ุถุบุท ุณุงุฆู</h4>
                    <div class="bg-slate-900 rounded p-2 text-center font-mono text-sm ltr">P = ฯgh</div>
                    <p class="text-center text-xs mt-1 text-slate-400">ุนูุฏ ููุทุฉ ูู ุจุงุทูู</p>
                </div>

                <!-- Pascal -->
                <div class="glass-panel p-4 border-t-4 border-green-500">
                    <h4 class="text-green-400 font-bold mb-2">ุงูููุจุณ ุงูููุฏุฑููููู</h4>
                    <div class="bg-slate-900 rounded p-2 text-center font-mono text-sm ltr">Fโ/Fโ = Aโ/Aโ = ฮท</div>
                    <p class="text-center text-xs mt-1 text-slate-400">ุงููุงุฆุฏุฉ ุงูุขููุฉ ฮท</p>
                </div>

                <!-- Manometer -->
                <div class="glass-panel p-4 border-t-4 border-red-500">
                    <h4 class="text-red-400 font-bold mb-2">ุงููุงูููุชุฑ</h4>
                    <div class="bg-slate-900 rounded p-2 text-center font-mono text-sm ltr">P_gas = Pโ ยฑ h</div>
                    <p class="text-center text-xs mt-1 text-slate-400">+ ูู ุฃูุจุฑุ - ูู ุฃูู</p>
                </div>
            </div>
        </section>

        <!-- Quiz -->
        <section id="quiz" class="mb-16 scroll-mt-24">
            <div class="glass-panel p-8">
                <h2 class="text-2xl font-bold mb-6 text-center">๐ง ุงุฎุชุจุฑ ูููู</h2>
                <div id="quizArea" class="space-y-4 max-w-2xl mx-auto">
                    <!-- Questions injected by JS -->
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="text-center py-8 border-t border-slate-700 text-slate-500">
            <p>ยฉ ููุตุฉ ุงูููุฒูุงุก 2024</p>
            <a href="index.html"
                class="inline-block mt-4 px-6 py-2 bg-slate-800 rounded-full hover:bg-slate-700 transition">ุงูุนูุฏุฉ
                ููุฑุฆูุณูุฉ</a>
        </footer>

    </main>

    <!-- Scripts -->
    <script>
        // --- Navigation ---
        function toggleNav() {
            document.getElementById('sidebar').classList.toggle('active');
        }
        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }

        // --- Communicating Vessels Simulation (Fixed & Unified) ---
        const vCanvas = document.getElementById('vesselsCanvas');
        const vCtx = vCanvas.getContext('2d');

        let waterProgress = 0; // 0.0 to 1.0 (Full)
        let isFilling = false;

        function initVessels() {
            const container = vCanvas.parentElement;
            vCanvas.width = container.clientWidth;
            vCanvas.height = container.clientHeight;
            drawVessels();
        }

        // Define the Unified Path for Vessels
        function defineVesselsPath(ctx, w, h) {
            const pipeBottom = h - 10;
            const pipeTop = h - 50; // Base pipe height
            const vesselTop = 60; // Top of vessels

            ctx.beginPath();

            // Start from bottom-left corner of the pipe
            ctx.moveTo(10, pipeBottom);


            // === LEFT TUBE (Simple Rectangle) ===
            const x1 = w * 0.12;
            const tube1W = 25;
            ctx.lineTo(10, pipeTop); // Left wall up
            ctx.lineTo(x1 - tube1W / 2, pipeTop);
            ctx.lineTo(x1 - tube1W / 2, vesselTop); // Go up
            ctx.lineTo(x1 + tube1W / 2, vesselTop); // Top
            ctx.lineTo(x1 + tube1W / 2, pipeTop); // Go down


            // === CONE (Funnel Shape) ===
            const x2 = w * 0.35;
            const coneTopW = 70;
            const coneBottomW = 25;
            ctx.lineTo(x2 - coneBottomW / 2, pipeTop);
            ctx.lineTo(x2 - coneTopW / 2, vesselTop); // Wide top left
            ctx.lineTo(x2 + coneTopW / 2, vesselTop); // Wide top right
            ctx.lineTo(x2 + coneBottomW / 2, pipeTop); // Narrow bottom


            // === BULB (Oval Shape) ===
            const x3 = w * 0.58;
            const bulbW = 60;
            const neckW = 20;
            ctx.lineTo(x3 - neckW / 2, pipeTop); // Left neck
            ctx.lineTo(x3 - neckW / 2, pipeTop - 40); // Neck up
            ctx.bezierCurveTo(x3 - bulbW, pipeTop - 80, x3 - bulbW, vesselTop + 30, x3 - neckW / 2, vesselTop); // Left bulge
            ctx.lineTo(x3 + neckW / 2, vesselTop); // Top
            ctx.bezierCurveTo(x3 + bulbW, vesselTop + 30, x3 + bulbW, pipeTop - 80, x3 + neckW / 2, pipeTop - 40); // Right bulge
            ctx.lineTo(x3 + neckW / 2, pipeTop); // Neck down


            // === ZIGZAG (S-Shape) ===
            const x4 = w * 0.82;
            const zigW = 30;
            ctx.lineTo(x4 - zigW / 2, pipeTop);
            ctx.lineTo(x4 - zigW / 2, pipeTop - 50);
            ctx.lineTo(x4 + zigW, pipeTop - 80);
            ctx.lineTo(x4 - zigW, pipeTop - 140);
            ctx.lineTo(x4 - zigW / 2, vesselTop); // Top left
            ctx.lineTo(x4 + zigW / 2, vesselTop); // Top right
            ctx.lineTo(x4 + zigW, pipeTop - 140);
            ctx.lineTo(x4 - zigW + zigW, pipeTop - 80);
            ctx.lineTo(x4 + zigW / 2, pipeTop - 50);
            ctx.lineTo(x4 + zigW / 2, pipeTop);


            // === CLOSE THE PIPE ===
            ctx.lineTo(w - 10, pipeTop); // Right edge of pipe
            ctx.lineTo(w - 10, pipeBottom); // Right wall down
            ctx.lineTo(10, pipeBottom); // Bottom of pipe

            ctx.closePath();
        }

        function drawVessels() {
            const w = vCanvas.width;
            const h = vCanvas.height;
            vCtx.clearRect(0, 0, w, h);

            // 1. Draw Glass Walls (Behind)
            vCtx.save();
            defineVesselsPath(vCtx, w, h);
            vCtx.strokeStyle = 'rgba(255,255,255,0.3)';
            vCtx.lineWidth = 4;
            vCtx.stroke();
            vCtx.fillStyle = 'rgba(255,255,255,0.05)';
            vCtx.fill();
            vCtx.restore();

            // 2. Draw Water (Masked)
            vCtx.save();
            defineVesselsPath(vCtx, w, h);
            vCtx.clip(); // Everything drawn after this stays INSIDE the vessels

            // Calculate Water Height
            // Start from bottom (h) up to 50px (top)
            const bottomY = h - 10;
            const topY = 50;
            const totalH = bottomY - topY;
            const currentH = waterProgress * totalH;
            const waterLevelY = bottomY - currentH;

            // Water Gradient
            const grad = vCtx.createLinearGradient(0, bottomY, 0, waterLevelY);
            grad.addColorStop(0, '#1e3a8a');
            grad.addColorStop(1, '#60a5fa');
            vCtx.fillStyle = grad;

            // Fill from bottom up
            vCtx.fillRect(0, waterLevelY, w, currentH);

            // Water Top Surface Line (White-ish)
            if (waterProgress > 0) {
                vCtx.fillStyle = 'rgba(255,255,255,0.5)';
                vCtx.fillRect(0, waterLevelY, w, 2);
            }
            vCtx.restore();

            // 3. Draw Tap Stream (If filling)
            if (isFilling && waterProgress < 1.0) {
                const x1 = w * 0.12; // Must match vessel 1 position!
                const tapX = x1; // Directly above first vessel
                const tapY = 30;
                const pipeTop = h - 50;

                // Calculate where water level is
                const bottomY = h - 10;
                const topY = 60;
                const totalH = bottomY - topY;
                const currentH = waterProgress * totalH;
                const waterLevelY = bottomY - currentH;

                // Stream target: top of water or pipeTop (whichever is higher)
                let targetY = Math.min(waterLevelY, pipeTop);

                // Main Water Stream
                const streamGrad = vCtx.createLinearGradient(tapX, tapY, tapX, targetY);
                streamGrad.addColorStop(0, 'rgba(96, 165, 250, 0.9)');
                streamGrad.addColorStop(1, 'rgba(30, 58, 138, 0.7)');

                vCtx.beginPath();
                vCtx.moveTo(tapX - 4, tapY);
                vCtx.lineTo(tapX + 4, tapY);
                vCtx.lineTo(tapX + 2, targetY);
                vCtx.lineTo(tapX - 2, targetY);
                vCtx.closePath();
                vCtx.fillStyle = streamGrad;
                vCtx.fill();

                // Animated Water Drops
                const time = Date.now() / 100;
                for (let i = 0; i < 3; i++) {
                    const dropY = tapY + ((time + i * 50) % (targetY - tapY));
                    vCtx.beginPath();
                    vCtx.arc(tapX + (Math.sin(time + i) * 2), dropY, 3, 0, Math.PI * 2);
                    vCtx.fillStyle = 'rgba(191, 219, 254, 0.8)';
                    vCtx.fill();
                }

                // Splash Ripples at water surface
                const rippleTime = (Date.now() / 200) % 20;
                vCtx.beginPath();
                vCtx.ellipse(tapX, targetY, 8 + rippleTime, 2 + rippleTime / 4, 0, 0, Math.PI * 2);
                vCtx.strokeStyle = `rgba(255,255,255,${0.6 - rippleTime / 30})`;
                vCtx.lineWidth = 1;
                vCtx.stroke();

                // Inner ripple
                vCtx.beginPath();
                vCtx.ellipse(tapX, targetY, 4 + rippleTime / 2, 1 + rippleTime / 8, 0, 0, Math.PI * 2);
                vCtx.strokeStyle = `rgba(255,255,255,${0.4 - rippleTime / 40})`;
                vCtx.stroke();

                // Tap Faucet
                vCtx.fillStyle = '#64748b';
                vCtx.fillRect(tapX - 8, 5, 16, 25);
                vCtx.fillStyle = '#94a3b8';
                vCtx.fillRect(tapX - 10, 5, 20, 8);
            }
        }

        function toggleVessels() {
            const btn = document.getElementById('vesselBtnText');
            if (isFilling) {
                isFilling = false;
                btn.innerText = 'ุงูุชุญ ุงูุญูููุฉ';
            } else {
                isFilling = true;
                waterProgress = 0;
                btn.innerText = 'ุฅููุงู';
                animateVessels();
            }
        }

        function animateVessels() {
            if (isFilling) {
                // UPGRADE: Variable Area Filling
                // Speed is inversely proportional to cross-sectional area.
                // Bulb area (approx 0.3 to 0.7) is wider -> Slower fill.
                let speed = 0.005; // Base speed (Narrow pipes)

                if (waterProgress > 0.35 && waterProgress < 0.65) {
                    speed = 0.0015; // Slow speed (Wide bulb)
                }

                waterProgress += speed;

                if (waterProgress >= 1.0) {
                    waterProgress = 1.0;
                    isFilling = false;
                    document.getElementById('vesselBtnText').innerText = 'ุชู ุงูุงูุชูุงุก';
                }
                drawVessels();
                requestAnimationFrame(animateVessels);
            }
        }

        // --- U-Tube Simulation (Fixed & Enhanced) ---
        const uCanvas = document.getElementById('utubeCanvas');
        const uCtx = uCanvas.getContext('2d');

        // Physics State
        let u_oilH = 0; // cm input
        let u_targetDisp = 0; // Target displacement (pixels)
        let u_currentDisp = 0; // Current animation state
        let u_velocity = 0;
        let u_running = false;
        let u_isUniform = true;

        function initUtube() {
            if (!uCanvas) return;
            const container = uCanvas.parentElement;
            uCanvas.width = container.clientWidth;
            uCanvas.height = container.clientHeight;

            // Bind Slider
            const slider = document.getElementById('oilSlider');
            if (slider) {
                slider.oninput = function () {
                    u_oilH = parseFloat(this.value);
                    recalcPhysics();
                };
            }

            // Check Shape
            const shapeOpt = document.querySelector('input[name="tubeShape"]:checked');
            u_isUniform = (shapeOpt && shapeOpt.value === 'uniform');

            // Force recalculate (e.g. if switching shape while oil exists)
            recalcPhysics();
        }

        function recalcPhysics() {
            const rho_oil = 800;
            const rho_water = 1000;
            const pxPerCm = 10;

            // Physics Logic:
            // Case 1: Uniform (A_left = A_right)
            // Water falls y on left, rises y on right. Total height = 2y.
            // rho_o * h_o = rho_w * 2y  =>  y = (rho_o * h_o) / (2 * rho_w)

            // Case 2: Irregular (A_right = 2 * A_left)
            // Water falls y on left (Area A). Volume = A*y
            // Water rises z on right (Area 2A). Volume = 2A*z
            // A*y = 2A*z => z = y/2
            // Total height = y + z = 1.5 y
            // rho_o * h_o = rho_w * 1.5y => y = (rho_o * h_o) / (1.5 * rho_w)

            const factor = u_isUniform ? 2.0 : 1.5;
            const y_cm = (rho_oil * u_oilH) / (rho_water * factor);

            u_targetDisp = y_cm * pxPerCm;

            if (!u_running) {
                u_running = true;
                animateUtube();
            }
        }

        function animateUtube() {
            // Spring Physics for smooth transition
            const k = 0.08;
            const damping = 0.92;
            const diff = u_targetDisp - u_currentDisp;

            u_velocity += diff * k;
            u_velocity *= damping;
            u_currentDisp += u_velocity;

            if (Math.abs(diff) < 0.1 && Math.abs(u_velocity) < 0.01) {
                u_currentDisp = u_targetDisp; // Snap to target
                u_running = false; // Stop loop
                drawUtube();
                return;
            }

            drawUtube();
            requestAnimationFrame(animateUtube);
        }

        function drawUtube() {
            const w = uCanvas.width;
            const h = uCanvas.height;
            uCtx.clearRect(0, 0, w, h);

            const cx = w / 2;
            const leftW = 60; // Left branch width (Oil)
            const rightW = u_isUniform ? 60 : 100; // Right branch (Water) - Wider if irregular

            const leftX = cx - 80;
            const rightX = cx + 80 + (u_isUniform ? 0 : 20); // Shift right slightly if wider
            const bottomY = h - 60;

            // 1. Draw Glass Path
            uCtx.beginPath();
            // Left Branch Outer
            uCtx.moveTo(leftX - leftW / 2, 50);
            uCtx.lineTo(leftX - leftW / 2, bottomY);
            // Bottom Curve logic needs to adapt to widths
            // Simple approach: Bezier or Arc connecting the two vertical pipes
            const curveControlY = bottomY + 100;

            // Outer Path
            uCtx.beginPath();
            uCtx.moveTo(leftX - leftW / 2, 50); // Top Left Outer
            uCtx.lineTo(leftX - leftW / 2, bottomY);
            uCtx.quadraticCurveTo(cx, curveControlY, rightX + rightW / 2, bottomY);
            uCtx.lineTo(rightX + rightW / 2, 50); // Top Right Outer

            // Inner Path (Reverse)
            uCtx.lineTo(rightX - rightW / 2, 50); // Top Right Inner
            uCtx.lineTo(rightX - rightW / 2, bottomY);
            uCtx.quadraticCurveTo(cx, curveControlY - (leftW), leftX + leftW / 2, bottomY); // Inner curve approx
            uCtx.lineTo(leftX + leftW / 2, 50); // Top Left Inner
            uCtx.closePath();

            // 2. Clip Content
            uCtx.save();
            uCtx.clip();

            // 3. Draw Liquids
            const eqLevel = h - 200; // Base equilibrium level
            const pxPerCm = 10;

            // Calculate levels based on current displacement (y)
            // Left level (Water-Oil interface) moves DOWN by y
            const leftInterfaceY = eqLevel + u_currentDisp;

            // Right level (Water top) moves UP by z
            // If uniform: z = y. If irreg: z = y/2.
            const ratio = u_isUniform ? 1.0 : 0.5;
            const rightSurfaceY = eqLevel - (u_currentDisp * ratio);

            const oilTopY = leftInterfaceY - (u_oilH * pxPerCm);

            // A. Water (Blue)
            // Fill everything up to rightSurfaceY
            uCtx.fillStyle = '#3b82f6';
            uCtx.fillRect(0, rightSurfaceY, w, h);

            // B. Oil (Yellow) - Only on Left Branch
            // We draw a rect covering the left branch area purely
            const oGrad = uCtx.createLinearGradient(leftX - leftW / 2, 0, leftX + leftW / 2, 0);
            oGrad.addColorStop(0, '#b45309');
            oGrad.addColorStop(0.5, '#fbbf24');
            oGrad.addColorStop(1, '#b45309');
            uCtx.fillStyle = oGrad;

            // Draw oil from top to interface
            // IMPORTANT: Only draw in the left vertical strip to avoid messy overlaps
            uCtx.fillRect(leftX - leftW / 2, oilTopY, leftW, leftInterfaceY - oilTopY);

            // Clean up: Clear above water on right and above oil on left
            uCtx.globalCompositeOperation = 'destination-out';
            uCtx.fillRect(0, 0, w, Math.min(oilTopY, rightSurfaceY)); // Rough clear top
            // Precise clear for each branch
            uCtx.fillRect(leftX - leftW / 2, 0, leftW, oilTopY); // Clear left
            uCtx.fillRect(rightX - rightW / 2, 0, rightW, rightSurfaceY); // Clear right
            uCtx.globalCompositeOperation = 'source-over';

            uCtx.restore(); // End Clip

            // 4. Stroke Glass
            uCtx.strokeStyle = 'rgba(255,255,255,0.4)';
            uCtx.lineWidth = 4;
            uCtx.stroke();

            // 5. Interface & Markers
            if (u_oilH > 0.5) {
                // Dashed Line at Separation
                uCtx.strokeStyle = '#4ade80';
                uCtx.setLineDash([5, 5]);
                uCtx.beginPath();
                uCtx.moveTo(leftX - 50, leftInterfaceY);
                uCtx.lineTo(rightX + 80, leftInterfaceY);
                uCtx.stroke();
                uCtx.setLineDash([]);

                uCtx.fillStyle = '#4ade80';
                uCtx.font = '10px Cairo';
                uCtx.fillText('ุงูุณุทุญ ุงููุงุตู', cx - 20, leftInterfaceY - 5);

                // Arrows
                // Oil Height Arrow
                drawArrow(uCtx, leftX - 50, leftInterfaceY, leftX - 50, oilTopY, '#fbbf24');
                // Water Height Arrow (Above Interface)
                drawArrow(uCtx, rightX + (u_isUniform ? 50 : 70), leftInterfaceY, rightX + (u_isUniform ? 50 : 70), rightSurfaceY, '#60a5fa');
            }

            // Update Text Values
            document.getElementById('oilVal').innerText = u_oilH.toFixed(1) + " cm";

            // Verify Logic text
            const hWater = ((eqLevel - rightSurfaceY + u_currentDisp) / pxPerCm).toFixed(2); // Total Water height above separation
            // Actually simpler: h_water = h_oil * rho_oil / rho_water
            // But let's show the measured height

            // Wait, h_water above separation = leftInterfaceY - rightSurfaceY
            // = (eq + y) - (eq - z) = y + z
            const pixelHeight = leftInterfaceY - rightSurfaceY;
            const cmHeight = (pixelHeight / 10).toFixed(1);

            document.getElementById('oilCalc').innerText = `800 ร ${u_oilH.toFixed(1)}`;
            document.getElementById('waterCalc').innerText = `1000 ร ${cmHeight}`;

            const isBalanced = Math.abs((800 * u_oilH) - (1000 * cmHeight)) < 50; // Tolerance
            if (u_oilH > 0 && isBalanced) {
                document.getElementById('eqResult').classList.remove('hidden');
            } else {
                document.getElementById('eqResult').classList.add('hidden');
            }
        }


        // --- Barometer Simulation ---
        const bCanvas = document.getElementById('barometerCanvas');
        const bCtx = bCanvas.getContext('2d');
        const mCanvas = document.getElementById('magCanvas');
        const mCtx = mCanvas.getContext('2d');
        const hSlider = document.getElementById('altitudeSlider');
        const aSlider = document.getElementById('angleSlider');

        // State
        let altitude = 0;
        let angle = 0;

        function initBarometer() {
            if (!bCanvas) return;
            const container = bCanvas.parentElement;
            bCanvas.width = container.clientWidth;
            bCanvas.height = container.clientHeight;
            drawBarometerSim();
        }

        function drawBarometerSim() {
            if (!bCanvas) return;
            const w = bCanvas.width;
            const h = bCanvas.height;
            bCtx.clearRect(0, 0, w, h);

            // Physics Calc (Corrected)
            // P = 76 cmHg at sea level.
            // Drops approx 1cmHg per 120m.
            const hSeaLevel = 76; // cm
            const dropCm = altitude / 120;
            const currentH_vertical = Math.max(0, hSeaLevel - dropCm);

            const P_pa = (currentH_vertical / 76) * 101325;

            // Tube Angle
            const rad = angle * (Math.PI / 180);
            const tubeLen = currentH_vertical / Math.cos(rad);

            // Draw
            // 1. Reservoir (Wider and Clearer)
            const resY = h - 60;
            bCtx.fillStyle = '#475569'; // Bowl Darker
            bCtx.beginPath(); bCtx.roundRect(w / 2 - 80, resY, 160, 50, 10); bCtx.fill();
            bCtx.strokeStyle = '#94a3b8'; bCtx.stroke();

            // Mercury in Reservoir
            bCtx.fillStyle = '#9ca3af'; // Mercury
            bCtx.beginPath(); bCtx.roundRect(w / 2 - 70, resY + 10, 140, 30, [0, 0, 8, 8]); bCtx.fill();

            // 2. Tube
            bCtx.save();
            bCtx.translate(w / 2, resY + 20); // Pivot at surface
            bCtx.rotate(rad);

            // Draw Vacuum Space (Ghostly)
            bCtx.fillStyle = 'rgba(255, 255, 255, 0.05)';
            bCtx.fillRect(-6, -380, 12, 380);

            // Mercury Column
            const pxPerCm = 4.0; // Scale
            const colHeightPx = tubeLen * pxPerCm;
            const tubeTopPx = 380;

            // Clip to tube to prevent overflow
            bCtx.beginPath();
            bCtx.rect(-6, -tubeTopPx, 12, tubeTopPx + 20);
            bCtx.clip();

            // Fill Mercury
            bCtx.fillStyle = '#9ca3af';
            bCtx.fillRect(-5, -colHeightPx, 10, colHeightPx + 50);

            // Vacuum Label
            if (colHeightPx < tubeTopPx - 20) {
                bCtx.fillStyle = '#f87171'; // Red
                bCtx.font = '10px Cairo';
                bCtx.textAlign = 'center';
                bCtx.fillText('Vacuum', 0, -colHeightPx - 10);
            }

            // Marks scale
            bCtx.fillStyle = 'rgba(255,255,255,0.8)';
            bCtx.font = '9px monospace';
            bCtx.textAlign = 'left';
            for (let i = 10; i <= 90; i += 10) {
                const y = -i * pxPerCm;
                bCtx.fillRect(6, y, 4, 1);
                if (i % 20 === 0) bCtx.fillText(i, 12, y + 3);
            }

            // Glass Shell
            bCtx.strokeStyle = 'rgba(255,255,255,0.6)';
            bCtx.lineWidth = 2;
            bCtx.strokeRect(-6, -tubeTopPx, 12, tubeTopPx + 20);

            bCtx.restore();

            // Readings Update
            document.getElementById('paVal').innerText = Math.round(P_pa).toLocaleString();
            document.getElementById('hCmVal').innerText = tubeLen.toFixed(1) + " cm";
            document.getElementById('angleVal').innerText = angle + "ยฐ";
        }

        // Events
        if (hSlider) {
            hSlider.addEventListener('input', (e) => { altitude = parseInt(e.target.value); drawBarometerSim(); });
            aSlider.addEventListener('input', (e) => { angle = parseInt(e.target.value); drawBarometerSim(); });

            // Magnifier logic
            bCanvas.addEventListener('mousemove', (e) => {
                const rect = bCanvas.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;

                const mag = document.getElementById('magnifier');
                mag.style.display = 'block';
                mag.style.left = (x - 60) + 'px';
                mag.style.top = (y - 60) + 'px';

                // Draw magnified view
                mCtx.clearRect(0, 0, 120, 120);
                mCtx.fillStyle = '#fff';
                mCtx.fillRect(0, 0, 120, 120);
                mCtx.drawImage(bCanvas, x - 30, y - 30, 60, 60, 0, 0, 120, 120);
            });
            bCanvas.addEventListener('mouseleave', () => {
                document.getElementById('magnifier').style.display = 'none';
            });
        }

        // Unit Conversion
        const convInput = document.getElementById('convInput');
        if (convInput) {
            function updateConv() {
                const val = parseFloat(convInput.value);
                const unit = document.getElementById('convFrom').value;
                let atm = 0;

                // To ATM
                if (unit === 'atm') atm = val;
                if (unit === 'cmHg') atm = val / 76;
                if (unit === 'pa') atm = val / 101325;
                if (unit === 'bar') atm = val / 1.013;
                if (unit === 'torr') atm = val / 760;

                const res = `
                    ${(atm).toFixed(3)} atm <br>
                    ${(atm * 76).toFixed(1)} cmHg <br>
                    ${(atm * 101325).toFixed(0)} Pa
                `;
                document.getElementById('convResult').innerHTML = res;
            }
            convInput.addEventListener('input', updateConv);
            document.getElementById('convFrom').addEventListener('change', updateConv);
        }


        // --- Hydraulic Press Simulation ---
        const pCanvas = document.getElementById('pressCanvas');

        // State
        let inputForce = 0; // 0-100%

        function initPress() {
            if (!pCanvas) return;
            const container = pCanvas.parentElement;
            pCanvas.width = container.clientWidth;
            pCanvas.height = container.clientHeight;
            drawPressSim();
        }

        function drawPressSim() {
            if (!pCanvas) return;
            const pCtx = pCanvas.getContext('2d');
            const w = pCanvas.width;
            const h = pCanvas.height;
            pCtx.clearRect(0, 0, w, h);

            const groundY = h - 50;
            const p1X = w * 0.25;
            const p2X = w * 0.75;
            const p1W = 40;  // Area 1 roughly ~ width squared
            const p2W = 120; // Area 2

            // Input Force
            const fSlider = document.getElementById('forceSlider');
            if (fSlider) inputForce = parseInt(fSlider.value);

            // Physics: F2 = F1 * (A2/A1). Let's assume A2/A1 = 10.
            // Stroke: d2 = d1 / 10.

            const maxDown1 = 120; // Max pixels p1 can go down
            const stroke1 = (inputForce / 100) * maxDown1; // 0 to 120
            const stroke2 = stroke1 / 10; // 0 to 12. Correct Physics.

            // Base positions (Rest)
            const p1RestY = groundY - 150;
            const p2RestY = groundY - 50; // Car platform starts lower

            const p1Y = p1RestY + stroke1;
            const p2Y = p2RestY - stroke2; // Goes UP

            // 1. Pipes (Connecting U-shape)
            pCtx.beginPath();
            pCtx.strokeStyle = '#475569';
            pCtx.lineWidth = 20;
            pCtx.lineJoin = 'round';
            pCtx.moveTo(p1X, p1RestY);
            pCtx.lineTo(p1X, groundY);
            pCtx.lineTo(p2X, groundY);
            pCtx.lineTo(p2X, p2RestY - 50); // Cylinder 2 housing
            pCtx.stroke();

            // 2. Fluid (Hydraulic Oil)
            pCtx.beginPath();
            pCtx.strokeStyle = '#b45309'; // Oil color
            pCtx.lineWidth = 14; // Inside pipe
            pCtx.moveTo(p1X, p1Y);
            pCtx.lineTo(p1X, groundY);
            pCtx.lineTo(p2X, groundY);
            pCtx.lineTo(p2X, p2Y);
            pCtx.stroke();

            // 3. Pistons
            pCtx.fillStyle = '#cbd5e1'; // Silver
            // Small Piston
            pCtx.fillRect(p1X - p1W / 2, p1Y - 20, p1W, 20);
            drawForceArrow(pCtx, p1X, p1Y - 30, inputForce, true);

            // Large Piston (Platform)
            pCtx.fillRect(p2X - p2W / 2, p2Y, p2W, 15);

            // 4. Car (The New "Cool" Car)
            drawCar(pCtx, p2X, p2Y);

            // Text
            const f2 = inputForce * 10;
            const f2El = document.getElementById('f2Val');
            if (f2El) f2El.innerText = (f2).toLocaleString() + " N";
        }

        function drawForceArrow(ctx, x, y, mag, isDown) {
            if (mag < 5) return;
            ctx.fillStyle = '#ef4444';
            const len = 20 + (mag / 100) * 40;
            const dir = isDown ? 1 : -1;

            ctx.beginPath();
            ctx.moveTo(x - 5, y - (len * dir));
            ctx.lineTo(x + 5, y - (len * dir));
            ctx.lineTo(x + 5, y - (10 * dir));
            ctx.lineTo(x + 10, y - (10 * dir));
            ctx.lineTo(x, y);
            ctx.lineTo(x - 10, y - (10 * dir));
            ctx.lineTo(x - 5, y - (10 * dir));
            ctx.closePath();
            ctx.fill();
        }

        function drawCar(ctx, x, platformY) {
            // Draw a better car shape centered at x, sitting on platformY
            const carW = 100;
            const carH = 35;
            const y = platformY - 40; // sit on top

            ctx.save();
            ctx.translate(x - carW / 2, y);

            // Car Body (Sports shape path)
            ctx.beginPath();
            ctx.moveTo(0, 35); // Bottom Left
            ctx.lineTo(10, 15); // Rear Bumper
            ctx.quadraticCurveTo(25, 0, 50, 0); // Roof
            ctx.quadraticCurveTo(80, 0, 100, 20); // Hood
            ctx.lineTo(100, 35); // Front
            ctx.closePath();

            // Gradient Paint
            const grad = ctx.createLinearGradient(0, 0, 100, 0);
            grad.addColorStop(0, '#be123c'); // Dark Red
            grad.addColorStop(0.5, '#f43f5e'); // Red
            grad.addColorStop(1, '#be123c');
            ctx.fillStyle = grad;
            ctx.fill();

            // Windows
            ctx.fillStyle = '#334155';
            ctx.beginPath();
            ctx.moveTo(30, 5);
            ctx.lineTo(60, 5);
            ctx.lineTo(70, 15);
            ctx.lineTo(25, 15);
            ctx.fill();

            // Wheels
            ctx.fillStyle = '#1e293b'; // Tires
            ctx.beginPath(); ctx.arc(20, 35, 12, 0, Math.PI * 2); ctx.fill();
            ctx.beginPath(); ctx.arc(80, 35, 12, 0, Math.PI * 2); ctx.fill();

            // Rims
            ctx.fillStyle = '#fff';
            ctx.beginPath(); ctx.arc(20, 35, 5, 0, Math.PI * 2); ctx.fill();
            ctx.beginPath(); ctx.arc(80, 35, 5, 0, Math.PI * 2); ctx.fill();

            ctx.restore();
        }

        if (document.getElementById('forceSlider')) {
            document.getElementById('forceSlider').addEventListener('input', drawPressSim);
        }


        // --- Updated Quiz ---
        const questions = [
            { q: "ูู ุงูุฃูุงูู ุงููุณุชุทุฑูุฉุ ูุนุชูุฏ ุงุฑุชูุงุน ุงูุณุงุฆู ุนูู...", opts: ["ูุณุงุญุฉ ุงููุงุนุฏุฉ", "ุดูู ุงูุฅูุงุก", "ุงููุซุงูุฉ ูุงูุฌุงุฐุจูุฉ", "ุญุฌู ุงูุณุงุฆู"], ans: 2, exp: "ุงูุถุบุท ูุนุชูุฏ ุนูู ุงูุงุฑุชูุงุน ูุงููุซุงูุฉ ููุท (P=ฯgh)." },
            { q: "ุนูุฏ ุงุณุชุฎุฏุงู ุงูุจุงุฑููุชุฑ ูููุงุณ ุงุฑุชูุงุน ูุจููุ ูุฑุงุกุฉ ุงูุฒุฆุจู...", opts: ["ุชุฒุฏุงุฏ ุฃุณูู ุงููุจูู", "ุชูู ุฃุณูู ุงููุจูู", "ุซุงุจุชุฉ", "ุชุณุงูู ุตูุฑ"], ans: 0, exp: "ุฃุณูู ุงููุจูู ุนููุฏ ุงูููุงุก ุฃุทููุ ูุงูุถุบุท ุฃูุจุฑุ ููุฑุงุกุฉ ุงูุจุงุฑููุชุฑ ุชุฒูุฏ." },
            { q: "ูู ุงูููุจุณ ุงูููุฏุฑูููููุ ุงููุงุฆุฏุฉ ุงูุขููุฉ ุฏุงููุงู...", opts: ["ุฃูู ูู 1", "ุชุณุงูู 1", "ุฃูุจุฑ ูู 1", "ุตูุฑ"], ans: 2, exp: "ูุฃููุง ุจููุจุฑ ุงูููุฉ! ูุณุงุญุฉ ุงูููุจุณ ุงููุจูุฑ / ุงูุตุบูุฑ > 1." },
            { q: "ุฅุฐุง ูุงู ุถุบุท ุบุงุฒ ูู ูุณุชูุฏุน ุฃูุจุฑ ูู ุงูุถุบุท ุงูุฌููุ ูุฅู ูุฑุงุกุฉ ุงููุงูููุชุฑ ุงูุฒุฆุจูู...", opts: ["ุณุงูุจุฉ", "ููุฌุจุฉ", "ุตูุฑ", "ุบูุฑ ูุญุฏุฏุฉ"], ans: 1, exp: "P_gas = Pa + h (ุงูุฒุฆุจู ููุฑุชูุน ูู ุงููุฑุน ุงูุฎุงูุต)." },
            { q: "ุงูุดุบู ุงููุจุฐูู ุนูู ุงูููุจุณ ุงูุตุบูุฑ ....... ุงูุดุบู ุงููุงุชุฌ ุนูุฏ ุงููุจูุฑ.", opts: ["ุฃูุจุฑ ูู", "ุฃูู ูู", "ูุณุงูู", "ุถุนู"], ans: 2, exp: "ุงูุทุงูุฉ ูุง ุชููู ููุง ุชุณุชุญุฏุซ! ุงูุดุบู ูุชุณุงูู (ูู ุงูููุจุณ ุงููุซุงูู)." }
        ];

        function renderQuiz() {
            const area = document.getElementById('quizArea');
            if (!area) return;
            area.innerHTML = questions.map((q, i) => `
                <div class="bg-slate-800 p-4 rounded-xl border border-slate-700">
                    <p class="font-bold mb-3 text-white">${i + 1}. ${q.q}</p>
                    <div class="space-y-2">
                        ${q.opts.map((o, j) => `
                            <button onclick="checkAns(this, ${i}, ${j})" class="w-full text-right p-3 rounded bg-slate-700 hover:bg-slate-600 transition">${o}</button>
                        `).join('')}
                    </div>
                    <div id="feed-${i}" class="hidden mt-3 text-sm p-3 rounded"></div>
                </div>
            `).join('');
        }

        function checkAns(btn, qIdx, optIdx) {
            const q = questions[qIdx];
            const feed = document.getElementById(`feed-${qIdx}`);
            const parent = btn.parentElement;
            Array.from(parent.children).forEach(b => b.disabled = true);

            if (optIdx === q.ans) {
                btn.classList.add('bg-green-600');
                feed.className = "mt-3 text-sm p-3 rounded bg-green-900/50 text-green-200 block";
                feed.innerText = "โ ุฅุฌุงุจุฉ ุตุญูุญุฉ! " + q.exp;
            } else {
                btn.classList.add('bg-red-600');
                feed.className = "mt-3 text-sm p-3 rounded bg-red-900/50 text-red-200 block";
                feed.innerText = "โ ุฎุทุฃ. ุงูุฅุฌุงุจุฉ ูู: " + q.opts[q.ans];
            }
        }

        window.onload = function () {
            initVessels();
            initUtube();
            initBarometer();
            initPress();
            renderQuiz();
        };
        window.onresize = function () {
            initVessels();
            initUtube();
            initBarometer();
            initPress();
        }
    </script>
</body>

</html>
